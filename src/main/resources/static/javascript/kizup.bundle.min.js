(()=>{"use strict";var t,e,n={332:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,r){function i(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}u((o=o.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,o,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(s=2&a[0]?o.return:a[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,a[1])).done)return s;switch(o=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateUser=void 0;var s=function(){function t(){}return t.userName=function(t,e){return n(this,void 0,void 0,(function(){var n,s;return o(this,(function(o){switch(o.label){case 0:return[4,e.patch("/user/name",{name:t})];case 1:return[4,(n=o.sent()).json()];case 2:return s=o.sent(),[2,{res:n,json:s,status:n.status}]}}))}))},t.email=function(t,e,s){return n(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,s.patch("/user/email",{email:t,password:e})];case 1:return[4,(n=o.sent()).json()];case 2:return r=o.sent(),[2,{res:n,json:r,status:n.status}]}}))}))},t.password=function(t,e,s){return n(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,s.patch("/user/password",{password:e,newPassword:t})];case 1:return[4,(n=o.sent()).json()];case 2:return r=o.sent(),[2,{res:n,json:r,status:n.status}]}}))}))},t}();e.UpdateUser=s},484:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CSS_DEFAULT_TRANSITION_TIME=e.CSS_CLASS_SHAKE_ANIM=e.CSS_CLASS_INPUT_DANGER=void 0;var o,s=n(834);e.CSS_CLASS_INPUT_DANGER="input-danger",e.CSS_CLASS_SHAKE_ANIM="element-animated-by-shake",e.CSS_DEFAULT_TRANSITION_TIME=!(o=s.WWWROOT.dataset.defaultTransition)||isNaN(Number(o))?(console.error("WWWROOT is not defining the default CSS transition data"),400):Number(o)},834:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WWWROOT=void 0,e.WWWROOT=document.getElementById("wwwroot")},646:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SYSTEM_STORAGE_KEY_TOKEN=void 0,e.SYSTEM_STORAGE_KEY_TOKEN="@key::System_Token"},349:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,r){function i(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,o,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(s=2&a[0]?o.return:a[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,a[1])).done)return s;switch(o=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LoggedUserPageModule=void 0;var r=n(332),i=n(484),a=n(754),u=n(922),c=n(431),d=n(593),l=n(339),p=n(578),h=function(){function t(){this.anim=new a.AnimTool,this.validation=new p.UserEntityValidation,this.progress=new c.ProgressIndicatorTool,this.api=new d.RestApiTool,this.toaster=new l.ToasterTool,this.avatar={tool:new u.ImageTool,HTMLImage:document.getElementById("avatar-IMG"),input:document.getElementById("avatar-hidden-input"),chooseButton:document.getElementById("choose-avatar-button"),blob:null},this.password={pseudoInput:document.getElementById("pseudo-input-password"),formContainer:document.querySelector(".form-user-password-container"),formContainerData:["",""],form:document.querySelector(".form-user-password"),input:document.getElementById("new-password"),inputConfirm:document.getElementById("new-password-again"),inputCurrentPassword:document.getElementById("current-password"),hiddenPassword:document.getElementById("hidden-password"),showPassword:document.getElementById("show-password")},this.signOutButton=document.getElementById("sign-out-button");var t=document.getElementById("pseudo-input-name"),e=document.querySelector(".form-user-container"),n=e.querySelector(".form-user-name"),o=n.querySelector("input"),s=[document.getElementById("user-name-strong")];this.name={pseudoInput:t,pseudoInputSpan:t.querySelector("span"),formContainer:e,formContainerData:["",""],form:n,input:o,originalValue:o.dataset.original,updateOn:s},this.name.updateOn.push(this.name.pseudoInputSpan);var r=document.getElementById("pseudo-input-email"),i=document.querySelector(".form-user-email-container"),h=i.querySelector(".form-user-email"),f=h.querySelector("input"),m=h.querySelector('input[type="password"]');this.email={pseudoInput:r,pseudoInputSpan:r.querySelector("span"),formContainer:i,formContainerData:["",""],form:h,input:f,originalValue:f.dataset.original,updateOn:[],passwordInput:m},this.email.updateOn.push(this.email.pseudoInputSpan)}return t.prototype.run=function(){this.processFormContainerDataset(),this.setListeners(),this.processBodySize(),this.processPassword(),this.progress.generate()},t.prototype.processFormContainerDataset=function(){this.name.formContainerData=this.name.formContainer.dataset.originalPos.split("."),this.email.formContainerData=this.email.formContainer.dataset.originalPos.split("."),this.password.formContainerData=this.password.formContainer.dataset.originalPos.split(".")},t.prototype.setListeners=function(){var t=this;this.avatar.chooseButton.addEventListener("click",(function(){return t.avatar.input.click()})),this.avatar.input.addEventListener("input",(function(){return t.avatarProcessing()})),this.name.pseudoInput.addEventListener("click",(function(){return t.activeUserInputConfiguration(t.name)})),this.name.form.addEventListener("submit",(function(e){e.preventDefault(),t.updateName()})),this.name.input.addEventListener("input",(function(){t.validation.nameIsValid(t.name.input.value)?t.name.input.classList.remove(i.CSS_CLASS_INPUT_DANGER):t.name.input.classList.add(i.CSS_CLASS_INPUT_DANGER)})),this.name.form.querySelector(".button-danger").addEventListener("click",(function(){t.name.input.value=t.name.originalValue,t.disableUserInputConfiguration(t.name)})),this.email.pseudoInput.addEventListener("click",(function(){return t.activeUserInputConfiguration(t.email)})),this.email.form.addEventListener("submit",(function(e){e.preventDefault(),t.updateEmail()})),this.email.input.addEventListener("input",(function(){t.validation.emailIsValid(t.email.input.value)?t.email.input.classList.remove(i.CSS_CLASS_INPUT_DANGER):t.email.input.classList.add(i.CSS_CLASS_INPUT_DANGER)})),this.email.passwordInput.addEventListener("input",(function(){t.validation.passwordIsValid(t.email.passwordInput.value)?t.email.passwordInput.classList.remove(i.CSS_CLASS_INPUT_DANGER):t.email.passwordInput.classList.add(i.CSS_CLASS_INPUT_DANGER)})),this.email.form.querySelector(".button-danger").addEventListener("click",(function(){t.email.input.value=t.email.originalValue,t.disableUserInputConfiguration(t.email)})),this.signOutButton.addEventListener("click",(function(){return t.signOut()}))},t.prototype.processPassword=function(){var t=this;this.password.showPassword.addEventListener("click",(function(){t.password.showPassword.classList.add("d-none"),t.password.hiddenPassword.classList.remove("d-none"),t.password.input.type="text",t.password.inputConfirm.type="text",t.password.inputCurrentPassword.type="text"})),this.password.hiddenPassword.addEventListener("click",(function(){t.password.showPassword.classList.remove("d-none"),t.password.hiddenPassword.classList.add("d-none"),t.password.input.type="password",t.password.inputConfirm.type="password",t.password.inputCurrentPassword.type="password"})),this.password.pseudoInput.addEventListener("click",(function(){return t.activeUserInputPasswordConfiguration()})),this.password.form.querySelector(".button-danger").addEventListener("click",(function(){var e=t.password.formContainerData,n=e[0],o=e[1];t.password.formContainer.style[n]=o})),this.password.form.addEventListener("submit",(function(e){e.preventDefault(),t.updatePassword()})),this.password.input.addEventListener("input",(function(){if(t.validation.passwordIsValid(t.password.input.value)){if(t.password.input.value!==t.password.inputConfirm.value)return t.password.input.classList.add(i.CSS_CLASS_INPUT_DANGER),void t.password.inputConfirm.classList.add(i.CSS_CLASS_INPUT_DANGER);t.password.input.classList.remove(i.CSS_CLASS_INPUT_DANGER),t.password.inputConfirm.classList.remove(i.CSS_CLASS_INPUT_DANGER),t.password.input.classList.remove(i.CSS_CLASS_INPUT_DANGER)}else t.password.input.classList.add(i.CSS_CLASS_INPUT_DANGER)})),this.password.inputConfirm.addEventListener("input",(function(){if(t.validation.passwordIsValid(t.password.inputConfirm.value)){if(t.password.input.value!==t.password.inputConfirm.value)return t.password.input.classList.add(i.CSS_CLASS_INPUT_DANGER),void t.password.inputConfirm.classList.add(i.CSS_CLASS_INPUT_DANGER);t.password.input.classList.remove(i.CSS_CLASS_INPUT_DANGER),t.password.inputConfirm.classList.remove(i.CSS_CLASS_INPUT_DANGER),t.password.inputConfirm.classList.remove(i.CSS_CLASS_INPUT_DANGER)}else t.password.inputConfirm.classList.add(i.CSS_CLASS_INPUT_DANGER)})),this.password.inputCurrentPassword.addEventListener("input",(function(){t.validation.passwordIsValid(t.password.inputCurrentPassword.value)?t.password.inputCurrentPassword.classList.remove(i.CSS_CLASS_INPUT_DANGER):t.password.inputCurrentPassword.classList.add(i.CSS_CLASS_INPUT_DANGER)}))},t.prototype.activeUserInputConfiguration=function(t){t.pseudoInput.style.borderColor="var(--secondary)",t.pseudoInputSpan.style.color="var(--title)";var e=t.formContainerData[0];t.formContainer.style[e]="0",setTimeout((function(){t.pseudoInput.style.borderColor="",t.pseudoInputSpan.style.color=""}),500)},t.prototype.disableUserInputConfiguration=function(t){var e=t.formContainerData,n=e[0],o=e[1];t.formContainer.style[n]=o},t.prototype.activeUserInputPasswordConfiguration=function(){var t=this.password.formContainerData[0];this.password.formContainer.style[t]="0"},t.prototype.avatarProcessing=function(){return o(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return this.avatar.input.files&&this.avatar.input.files[0]?[4,this.avatar.tool.imageToBlob(this.avatar.input.files[0])]:[3,2];case 1:(t=e.sent())&&(this.avatar.blob=t,this.avatar.HTMLImage.src=URL.createObjectURL(t)),e.label=2;case 2:return[2]}}))}))},t.prototype.processBodySize=function(){var t=document.querySelector(".header").clientHeight;document.querySelector("#user-body").style.minHeight="calc(100vh - ".concat(t,"px)")},t.prototype.updateName=function(){var t=this,e=this.name.input.value;if(!this.validation.nameIsValid(e))return this.toaster.warn(this.name.input.dataset.error),void this.anim.shake(this.name.input);r.UpdateUser.userName(e,this.api).then((function(n){var o=n.json;200===n.status?(t.toaster.success(o.message),t.name.updateOn.forEach((function(t){return t.textContent=e})),t.disableUserInputConfiguration(t.name)):t.toaster.warn(o.error)})).catch((function(e){t.toaster.danger(),console.log(e)}))},t.prototype.updateEmail=function(){var t=this,e=this.email.input.value;if(!this.validation.emailIsValid(e))return this.toaster.warn(this.email.input.dataset.error),void this.anim.shake(this.email.input);var n=this.email.passwordInput.value;if(!this.validation.passwordIsValid(n))return this.toaster.warn(this.email.passwordInput.dataset.error),void this.anim.shake(this.email.passwordInput);r.UpdateUser.email(e,n,this.api).then((function(n){var o=n.json;if(200===n.status){var s=o.token;d.RestApiTool.updateToken(s),t.toaster.success(o.message),t.email.updateOn.forEach((function(t){return t.textContent=e})),t.disableUserInputConfiguration(t.email)}else t.toaster.warn(o.error)})).catch((function(e){t.toaster.danger(),console.log(e)}))},t.prototype.updatePassword=function(){var t=this,e=this.password.input.value;if(e!==this.password.inputConfirm.value)return this.anim.shake(this.password.inputConfirm),this.toaster.warn(this.password.inputConfirm.dataset.error),void console.log({newPassword:e,again:this.password.inputConfirm.value});if(!this.validation.passwordIsValid(e))return this.anim.shake(this.password.input),void this.toaster.warn(this.password.input.dataset.error);var n=this.password.inputCurrentPassword.value;if(!this.validation.passwordIsValid(n))return this.anim.shake(this.password.inputCurrentPassword),void this.toaster.warn(this.password.inputCurrentPassword.dataset.error);r.UpdateUser.password(e,n,this.api).then((function(e){var n=e.json;200===e.status?(t.toaster.success(n.message),t.password.form.querySelector(".button-danger").click(),t.password.input.value="",t.password.inputConfirm.value="",t.password.inputCurrentPassword.value=""):(t.toaster.warn(n.error),console.log(n))})).catch((function(e){t.toaster.danger(),console.log(e)}))},t.prototype.signOut=function(){var t=this;this.progress.show(),this.api.signOut().then((function(e){e?t.toaster.success(t.signOutButton.dataset.message,(function(){return window.location.reload()})):t.toaster.danger("Oopss..."),t.progress.hidden()})).catch((function(e){console.log(e),t.toaster.danger("Oopss..."),t.progress.hidden()}))},t}();e.LoggedUserPageModule=h},251:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SessionModule=void 0;var o=n(484),s=n(754),r=n(431),i=n(593),a=n(339),u=n(578),c=function(){function t(){this.HTML_SESSION_TYPE={signIn:"SIGN_IN",signUp:"SIGN_UP"},this.validation=new u.UserEntityValidation,this.anim=new s.AnimTool,this.api=new i.RestApiTool,this.toaster=new a.ToasterTool,this.progressIndicator=new r.ProgressIndicatorTool,this.buttonShowSessionForm=document.querySelector("#show-session-form"),this.buttonHiddenSessionForm=document.querySelector("#session-form-hidden"),this.showSessionFormFromBody=document.querySelector("#container-view-call-session-form"),this.homeLink=document.querySelector("#home-link"),this.sessionFormContainer=document.querySelector("#session-form"),this.sessionForm=this.sessionFormContainer.querySelector("form"),this.sessionEmailInput=this.sessionForm.querySelector("#session-email"),this.sessionPasswordInput=this.sessionForm.querySelector("#session-password"),this.buttonSessionSignUp=this.sessionForm.querySelector("#sign-up"),this.buttonSessionSignIn=this.sessionForm.querySelector('button[type="submit"]')}return t.prototype.run=function(){this.setListeners(),this.progressIndicator.generate(),console.log(this)},t.prototype.showSessionForm=function(){this.sessionFormContainer.style.left="0"},t.prototype.setListeners=function(){var t=this;this.buttonShowSessionForm.addEventListener("click",(function(){return t.showSessionForm()})),this.buttonHiddenSessionForm.addEventListener("click",(function(){return t.hiddenSessionForm()})),this.showSessionFormFromBody&&this.homeLink&&(this.showSessionFormFromBody.addEventListener("click",(function(){return t.showSessionForm()})),this.homeLink.addEventListener("click",(function(t){t.preventDefault(),window.history.back()}))),this.sessionEmailInput.addEventListener("input",(function(){t.validation.emailIsValid(t.sessionEmailInput.value)?t.sessionEmailInput.classList.remove(o.CSS_CLASS_INPUT_DANGER):t.sessionEmailInput.classList.add(o.CSS_CLASS_INPUT_DANGER)})),this.sessionPasswordInput.addEventListener("input",(function(){t.validation.passwordIsValid(t.sessionPasswordInput.value)?t.sessionPasswordInput.classList.remove(o.CSS_CLASS_INPUT_DANGER):t.sessionPasswordInput.classList.add(o.CSS_CLASS_INPUT_DANGER)})),this.buttonSessionSignUp.addEventListener("click",(function(){t.sessionForm.dataset.sessionType=t.HTML_SESSION_TYPE.signUp,t.sessionSubmit()})),this.buttonSessionSignIn.addEventListener("click",(function(){t.sessionForm.dataset.sessionType=t.HTML_SESSION_TYPE.signIn})),this.sessionForm.addEventListener("submit",(function(e){return t.sessionSubmit(e)}))},t.prototype.hiddenSessionForm=function(){this.sessionFormContainer.style.left="100vw"},t.prototype.sessionSubmit=function(t){t&&t.preventDefault(),this.progressIndicator.show();var e=this.sessionEmailInput.value;if(!this.validation.emailIsValid(e))return this.anim.shake(this.sessionEmailInput),this.progressIndicator.hidden(),void this.toaster.warn(this.sessionEmailInput.dataset.error);var n=this.sessionPasswordInput.value;return this.validation.passwordIsValid(n)?this.sessionForm.dataset.sessionType===this.HTML_SESSION_TYPE.signIn?this.sessionSignIn(e,n):void this.sessionSignUp(e,n):(this.anim.shake(this.sessionPasswordInput),this.progressIndicator.hidden(),void this.toaster.warn(this.sessionPasswordInput.dataset.error))},t.prototype.sessionSignUp=function(t,e){var n=this,o=null;this.api.post("/session/sign-up",{email:t,password:e}).then((function(t){return(o=t).json()})).then((function(t){n.progressIndicator.hidden(),200===o.status?(n.toaster.success("Olá, "+t.user.name,(function(){return window.location.reload()})),i.RestApiTool.updateToken(t.token)):n.toaster.danger(t.error)})).catch((function(t){n.progressIndicator.hidden(),console.error(t)}))},t.prototype.sessionSignIn=function(t,e){var n=this,o=null;this.api.post("/session",{email:t,password:e}).then((function(t){return(o=t).json()})).then((function(t){n.progressIndicator.hidden(),200===o.status?(n.toaster.success("Olá, "+t.user.name,(function(){return window.location.reload()})),i.RestApiTool.updateToken(t.token)):n.toaster.danger(t.error)})).catch((function(t){n.progressIndicator.hidden(),console.error(t)}))},t}();e.SessionModule=c},754:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnimTool=void 0;var o=n(484),s=function(){function t(){}return t.prototype.shake=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=500),t.classList.contains(o.CSS_CLASS_SHAKE_ANIM)&&t.classList.remove(o.CSS_CLASS_SHAKE_ANIM),t.classList.add(o.CSS_CLASS_SHAKE_ANIM),e&&"function"==typeof t.focus&&t.focus(),setTimeout((function(){return t.classList.remove(o.CSS_CLASS_SHAKE_ANIM)}),n)},t.shake=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=500),t.classList.contains(o.CSS_CLASS_SHAKE_ANIM)&&t.classList.remove(o.CSS_CLASS_SHAKE_ANIM),t.classList.add(o.CSS_CLASS_SHAKE_ANIM),e&&"function"==typeof t.focus&&t.focus(),setTimeout((function(){return t.classList.remove(o.CSS_CLASS_SHAKE_ANIM)}),n)},t}();e.AnimTool=s},922:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,r){function i(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}u((o=o.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,o,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(s=2&a[0]?o.return:a[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,a[1])).done)return s;switch(o=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageTool=void 0;var s=function(){function t(){}return t.prototype.imageToBlob=function(t,e,s,r){var i=this;return void 0===e&&(e=300),void 0===s&&(s=300),void 0===r&&(r=!0),new Promise((function(a){try{if(!t)return a(null);var u=URL.createObjectURL(t),c=new Image;c.onload=function(){return n(i,void 0,void 0,(function(){var t,n,i,d,l,p,h,f;return o(this,(function(o){switch(o.label){case 0:return t=c.width,n=c.height,i=document.createElement("canvas"),d=i.getContext("2d"),(p=r)?t<n?[4,this.resizeHeight(c,t,n)]:[3,2]:[3,7];case 1:return h=o.sent(),[3,6];case 2:return t>n?[4,this.resizeWidth(c,t,n)]:[3,4];case 3:return f=o.sent(),[3,5];case 4:f=c,o.label=5;case 5:h=f,o.label=6;case 6:p=h,o.label=7;case 7:return l=p||c,d.canvas.width=e,d.canvas.height=s,d.drawImage(l,0,0,e,s),d.canvas.toBlob((function(t){URL.revokeObjectURL(u),a(t)}),"image/jpeg",1),[2]}}))}))},c.crossOrigin="Anonymous",c.src=u}catch(t){a(null)}}))},t.prototype.imageToBlobWhithoutResize=function(t){var e=this;return new Promise((function(s){try{if(!t)return s(null);var r=URL.createObjectURL(t),i=new Image;i.onload=function(){return n(e,void 0,void 0,(function(){var t,e,n,a;return o(this,(function(o){return t=.8*i.width,e=.8*i.height,n=document.createElement("canvas"),(a=n.getContext("2d")).canvas.width=t,a.canvas.height=e,a.drawImage(i,0,0,t,e),a.canvas.toBlob((function(t){URL.revokeObjectURL(r),s(t)}),"image/jpeg",1),[2]}))}))},i.crossOrigin="Anonymous",i.src=r}catch(t){s(null)}}))},t.prototype.resizeHeight=function(t,e,n){return new Promise((function(o){var s=document.createElement("canvas").getContext("2d");s.canvas.width=e,s.canvas.height=e,s.drawImage(t,0,.2*n,e,e,0,0,e,e);var r=new Image;r.onload=function(){return o(r)},r.src=s.canvas.toDataURL()}))},t.prototype.resizeWidth=function(t,e,n){return new Promise((function(o){var s=document.createElement("canvas").getContext("2d");s.canvas.width=n,s.canvas.height=n,s.drawImage(t,.2*e,0,n,n,0,0,n,n);var r=new Image;r.onload=function(){return o(r)},r.src=s.canvas.toDataURL()}))},t}();e.ImageTool=s},431:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressIndicatorTool=void 0;var o=n(834),s=function(){function t(){this.className={container:"progress-indicator-container",background:"progress-indicator-background",indicator:"progress-indicator",indicator2:"progress-indicator-2"},this.indicator=null}return t.prototype.generate=function(){if(!this.indicator){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");t.classList.add(this.className.container),e.classList.add(this.className.background),n.classList.add(this.className.indicator),o.classList.add(this.className.indicator2),e.append(n,o),t.appendChild(e),this.indicator=t}},t.prototype.generateAndShow=function(){this.generate(),this.show()},t.prototype.show=function(){this.indicator&&o.WWWROOT.appendChild(this.indicator)},t.prototype.hidden=function(){var t=this;this.indicator&&setTimeout((function(){return t.indicator.remove()}),400)},t.prototype.destroyInstance=function(){this.indicator&&(this.indicator.remove(),this.indicator=null)},t}();e.ProgressIndicatorTool=s},593:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,r){function i(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,o,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(s=2&a[0]?o.return:a[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,a[1])).done)return s;switch(o=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.RestApiTool=void 0;var r=n(646),i=function(){function t(){this.base="/api"}return t.prototype.post=function(t,e,n){return void 0===n&&(n={}),o(this,void 0,void 0,(function(){var o,r;return s(this,(function(s){return o=this.recoveryToken(),r=new Headers,n&&Object.keys(n).forEach((function(t){return r.set(t,n[t])})),r.set("Content-Type","application/json"),o&&r.set("Authorization","Bearer ".concat(o)),[2,fetch(this.base.concat("/"===t[0]?t:"/"+t),{body:"string"==typeof e?e:JSON.stringify(e),headers:r,method:"POST"})]}))}))},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),o(this,void 0,void 0,(function(){var o,r;return s(this,(function(s){return o=this.recoveryToken(),r=new Headers,n&&Object.keys(n).forEach((function(t){return r.set(t,n[t])})),r.set("Content-Type","application/json"),o&&r.set("Authorization","Bearer ".concat(o)),[2,fetch(this.base.concat("/"===t[0]?t:"/"+t),{body:"string"==typeof e?e:JSON.stringify(e),headers:r,method:"PATCH"})]}))}))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),o(this,void 0,void 0,(function(){var o,r;return s(this,(function(s){return o=this.recoveryToken(),r=new Headers,n&&Object.keys(n).forEach((function(t){return r.set(t,n[t])})),r.set("Content-Type","application/json"),o&&r.set("Authorization","Bearer ".concat(o)),[2,fetch(this.base.concat("/"===t[0]?t:"/"+t),{body:"string"==typeof e?e:JSON.stringify(e),headers:r,method:"PUT"})]}))}))},t.prototype.delete=function(t,e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var n,o;return s(this,(function(s){return n=this.recoveryToken(),o=new Headers,e&&Object.keys(e).forEach((function(t){return o.set(t,e[t])})),o.set("Content-Type","application/json"),n&&o.set("Authorization","Bearer ".concat(n)),[2,fetch(this.base.concat("/"===t[0]?t:"/"+t),{headers:o,method:"DELETE"})]}))}))},t.prototype.signOut=function(){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.delete("/session/sign-out")];case 1:return[2,200===t.sent().status]}}))}))},t.prototype.recoveryToken=function(){try{return localStorage.getItem(r.SYSTEM_STORAGE_KEY_TOKEN)}catch(t){return null}},t.updateToken=function(t){t?localStorage.setItem(r.SYSTEM_STORAGE_KEY_TOKEN,t):console.error("TOKEN_INVALID")},t}();e.RestApiTool=i},339:function(t,e,n){var o=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(n[o[s]]=t[o[s]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.ToasterTool=void 0;var s=n(484),r=n(834),i="toaster-container",a={success:"bi-check2-circle",info:"bi-info-circle",danger:"bi-exclamation-diamond",warn:"bi-question-diamond"},u=function(){function t(){}return t.prototype.success=function(t,e,n){if(void 0===t&&(t=":)"),void 0===n&&(n=6e3),document.getElementById(i))this.toStack(t,n,e,"success");else{var o=this.generateBase(t,"success",n,e),s=o.container,r=o.containerActive,a=o.message,u=o.headerIcon;s.style.background="var(--success)",a.style.color="var(--textWarn)",a.style.fontWeight="500",u.style.color="var(--textWarn)",r.style.borderColor="var(--textSecondary)",this.toWWWROOT(s)}},t.prototype.info=function(t,e,n){if(void 0===n&&(n=6e3),document.getElementById(i))this.toStack(t,n,e,"info");else{var o=this.generateBase(t,"info",n,e).container;this.toWWWROOT(o)}},t.prototype.warn=function(t,e,n){if(void 0===t&&(t="Oopsss..."),void 0===n&&(n=6e3),document.getElementById(i))this.toStack(t,n,e,"warn");else{var o=this.generateBase(t,"warn",n,e),s=o.container,r=o.containerActive,a=o.message,u=o.headerIcon;s.style.background="var(--warn)",a.style.color="var(--textWarn)",a.style.fontWeight="500",u.style.color="var(--textWarn)",r.style.borderColor="var(--textSecondary)",this.toWWWROOT(s)}},t.prototype.danger=function(t,e,n){if(void 0===t&&(t="Oopsss..."),void 0===n&&(n=6e3),document.getElementById(i))this.toStack(t,n,e,"danger");else{var o=this.generateBase(t,"danger",n,e),s=o.container,r=o.containerActive;s.style.background="var(--danger)",r.style.borderColor="var(--textSecondary)",this.toWWWROOT(s)}},t.prototype.toStack=function(e,n,o,s){t.stack.push({message:e,timer:n,type:s,onDestroy:o})},t.prototype.toWWWROOT=function(t){r.WWWROOT.appendChild(t),setTimeout((function(){t.style.transform="scale(1.05)",setTimeout((function(){return t.style.transform=""}),s.CSS_DEFAULT_TRANSITION_TIME)}),100)},t.prototype.generateBase=function(e,n,r,u){var c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("header"),p=document.createElement("div"),h=document.createElement("p"),f=document.createElement("i");c.id=i,d.id="toaster-container-active",l.id="toaster-header",p.id="toaster-header-part",h.id="toaster-message",f.classList.add("bi",a[n]),c.style.transform="scale(0)",c.style.transition="all ".concat(s.CSS_DEFAULT_TRANSITION_TIME-100,"ms ease-in-out"),h.textContent=e||"",p.append(f,h),l.append(p);var m=document.createElement("style");m.innerHTML="\n      .class-anim-toaster-container-active {\n        animation: anim-toaster-container-active ".concat(r,"ms ease-out;\n      }\n\n      @keyframes anim-toaster-container-active {\n        to {\n          transform: translateX(-100%);\n        }\n      }\n    "),d.classList.add("class-anim-toaster-container-active"),document.head.appendChild(m),c.append(d,l);var v=this,S=function(){m.remove(),c.style.transform="scale(0)",setTimeout((function(){if(c.remove(),u&&"function"==typeof u&&u(),t.stack.length>0){var e=t.stack.shift(),n=e.type,s=o(e,["type"]);v[n](s.message,s.onDestroy,s.timer)}}),s.CSS_DEFAULT_TRANSITION_TIME-150)},w=setTimeout((function(){return S()}),r),y=setTimeout((function(){d.remove()}),r-100);return c.addEventListener("click",(function(){clearTimeout(w),clearTimeout(y),S()})),{container:c,containerActive:d,header:l,headerIcon:f,message:h,destroy:S}},t.stack=[],t}();e.ToasterTool=u},578:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UserEntityValidation=void 0;var n=function(){function t(){this.emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/}return t.prototype.emailIsValid=function(t){return t&&this.emailRegex.test(t)},t.prototype.passwordIsValid=function(t){return t&&t.length>=8},t.prototype.nameIsValid=function(t){return t&&t.length>=2},t}();e.UserEntityValidation=n}},o={};function s(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}};return n[t].call(r.exports,r,r.exports,s),r.exports}t=s(349),e=s(251),function(){function n(){}return n.prototype.run=function(){var n=document.querySelector("#input-f-html-page-name");if(!n)return console.error("Input HTML page name not found - 404");if(!n.dataset.page)return console.error("Input HTML data page not defined - 400");switch(n.dataset.page){case"INDEX_PAGE":case"USER_PAGE":(new e.SessionModule).run();break;case"USER_PAGE_LOGGED_IN":(new t.LoggedUserPageModule).run()}},n.build=function(){return new n},n}().build().run()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UCxTQUFvQnBGLEdBQ2xCLE9BQU9BLEdBQVNrRCxLQUFLaU0sV0FBV0MsS0FBS3BQLEVBQ3ZDLEVBRU8sWUFBQXFGLGdCQUFQLFNBQXVCcEYsR0FDckIsT0FBT0EsR0FBWUEsRUFBUzRPLFFBQVUsQ0FDeEMsRUFFTyxZQUFBaEssWUFBUCxTQUFtQm5GLEdBQ2pCLE9BQU9BLEdBQVFBLEVBQUttUCxRQUFVLENBQ2hDLEVBQ0YsRUFkQSxHQUFhLEVBQUF4TixxQkFBQUEsQyxHQ0NUZ08sRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENidEJBLFNBQ0EsU0FFQSx3QkFzQkEsUUFyQlMsWUFBQTVMLElBQVAsV0FDRSxJQUFNZ00sRUFBTy9PLFNBQVNzQixjQUFnQywyQkFDdEQsSUFBS3lOLEVBQU0sT0FBT2pQLFFBQVFDLE1BQU0sd0NBQ2hDLElBQUtnUCxFQUFLclAsUUFBUXFQLEtBQU0sT0FBT2pQLFFBQVFDLE1BQU0sMENBRTdDLE9BQVFnUCxFQUFLclAsUUFBUXFQLE1BQ25CLElBQUssYUFHTCxJQUFLLGFBQ0gsSUFBSSxFQUFBckcsZUFBZ0IzRixNQUNwQixNQUNGLElBQUssdUJBQ0gsSUFBSSxFQUFBK0Qsc0JBQXVCL0QsTUFHakMsRUFFYyxFQUFBaU0sTUFBZCxXQUNFLE9BQU8sSUFBSUMsQ0FDYixFQUNGLEVBdEJBLEdBd0IyQkQsUUFBUWpNLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raXp1cC8uL3d3dy9tYWluLnRzIiwid2VicGFjazovL2tpenVwLy4vd3d3L2F1dGgvVXBkYXRlVXNlci50cyIsIndlYnBhY2s6Ly9raXp1cC8uL3d3dy9jb25zdGFudHMvY3NzLnRzIiwid2VicGFjazovL2tpenVwLy4vd3d3L2NvbnN0YW50cy9odG1sLnRzIiwid2VicGFjazovL2tpenVwLy4vd3d3L2NvbnN0YW50cy9zeXN0ZW0udHMiLCJ3ZWJwYWNrOi8va2l6dXAvLi93d3cvbW9kdWxlcy9Mb2dnZWRVc2VyUGFnZU1vZHVsZS50cyIsIndlYnBhY2s6Ly9raXp1cC8uL3d3dy9tb2R1bGVzL1Nlc3Npb25Nb2R1bGUudHMiLCJ3ZWJwYWNrOi8va2l6dXAvLi93d3cvdG9vbHMvQW5pbVRvb2wudHMiLCJ3ZWJwYWNrOi8va2l6dXAvLi93d3cvdG9vbHMvSW1hZ2VUb29sLnRzIiwid2VicGFjazovL2tpenVwLy4vd3d3L3Rvb2xzL1Byb2dyZXNzSW5kaWNhdG9yVG9vbC50cyIsIndlYnBhY2s6Ly9raXp1cC8uL3d3dy90b29scy9SZXN0QXBpVG9vbC50cyIsIndlYnBhY2s6Ly9raXp1cC8uL3d3dy90b29scy9Ub2FzdGVyVG9vbC50cyIsIndlYnBhY2s6Ly9raXp1cC8uL3d3dy92YWxpZGF0aW9uL1VzZXJFbnRpdHlWYWxpZGF0aW9uLnRzIiwid2VicGFjazovL2tpenVwL3dlYnBhY2svYm9vdHN0cmFwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlZFVzZXJQYWdlTW9kdWxlIH0gZnJvbSAnLi9tb2R1bGVzL0xvZ2dlZFVzZXJQYWdlTW9kdWxlJztcclxuaW1wb3J0IHsgU2Vzc2lvbk1vZHVsZSB9IGZyb20gJy4vbW9kdWxlcy9TZXNzaW9uTW9kdWxlJztcclxuXHJcbmNsYXNzIE1haW4ge1xyXG4gIHB1YmxpYyBydW4oKSB7XHJcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2lucHV0LWYtaHRtbC1wYWdlLW5hbWUnKTtcclxuICAgIGlmICghcGFnZSkgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ0lucHV0IEhUTUwgcGFnZSBuYW1lIG5vdCBmb3VuZCAtIDQwNCcpO1xyXG4gICAgaWYgKCFwYWdlLmRhdGFzZXQucGFnZSkgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ0lucHV0IEhUTUwgZGF0YSBwYWdlIG5vdCBkZWZpbmVkIC0gNDAwJyk7XHJcblxyXG4gICAgc3dpdGNoIChwYWdlLmRhdGFzZXQucGFnZSkge1xyXG4gICAgICBjYXNlICdJTkRFWF9QQUdFJzpcclxuICAgICAgICBuZXcgU2Vzc2lvbk1vZHVsZSgpLnJ1bigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdVU0VSX1BBR0UnOlxyXG4gICAgICAgIG5ldyBTZXNzaW9uTW9kdWxlKCkucnVuKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1VTRVJfUEFHRV9MT0dHRURfSU4nOlxyXG4gICAgICAgIG5ldyBMb2dnZWRVc2VyUGFnZU1vZHVsZSgpLnJ1bigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBidWlsZCgpIHtcclxuICAgIHJldHVybiBuZXcgTWFpbigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCgpID0+IE1haW4uYnVpbGQoKS5ydW4oKSkoKTtcclxuIiwiaW1wb3J0IHsgUmVzdEFwaVRvb2wgfSBmcm9tICcuLi90b29scy9SZXN0QXBpVG9vbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVXBkYXRlVXNlciB7XHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyB1c2VyTmFtZShuYW1lOiBzdHJpbmcsIHJlc3Q6IFJlc3RBcGlUb29sKSB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXN0LnBhdGNoKCcvdXNlci9uYW1lJywgeyBuYW1lIH0pO1xyXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4geyByZXMsIGpzb24sIHN0YXR1czogcmVzLnN0YXR1cyB9O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyBlbWFpbChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCByZXN0OiBSZXN0QXBpVG9vbCkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVzdC5wYXRjaCgnL3VzZXIvZW1haWwnLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcclxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgcmV0dXJuIHsgcmVzLCBqc29uLCBzdGF0dXM6IHJlcy5zdGF0dXMgfTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgcGFzc3dvcmQobmV3UGFzc3dvcmQ6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgcmVzdDogUmVzdEFwaVRvb2wpIHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3QucGF0Y2goJy91c2VyL3Bhc3N3b3JkJywgeyBwYXNzd29yZCwgbmV3UGFzc3dvcmQgfSk7XHJcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIHJldHVybiB7IHJlcywganNvbiwgc3RhdHVzOiByZXMuc3RhdHVzIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFdXV1JPT1QgfSBmcm9tICcuL2h0bWwnO1xyXG5cclxuY29uc3QgZ2V0RGVmYXVsdFRyYW5zaXRpb25UaW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHRpbWUgPSBXV1dST09ULmRhdGFzZXQuZGVmYXVsdFRyYW5zaXRpb247XHJcbiAgaWYgKCF0aW1lIHx8IGlzTmFOKE51bWJlcih0aW1lKSkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1dXV1JPT1QgaXMgbm90IGRlZmluaW5nIHRoZSBkZWZhdWx0IENTUyB0cmFuc2l0aW9uIGRhdGEnKTtcclxuICAgIHJldHVybiA0MDA7XHJcbiAgfVxyXG4gIHJldHVybiBOdW1iZXIodGltZSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUiA9ICdpbnB1dC1kYW5nZXInO1xyXG5leHBvcnQgY29uc3QgQ1NTX0NMQVNTX1NIQUtFX0FOSU0gPSAnZWxlbWVudC1hbmltYXRlZC1ieS1zaGFrZSc7XHJcbmV4cG9ydCBjb25zdCBDU1NfREVGQVVMVF9UUkFOU0lUSU9OX1RJTUUgPSBnZXREZWZhdWx0VHJhbnNpdGlvblRpbWUoKTtcclxuIiwiZXhwb3J0IGNvbnN0IFdXV1JPT1QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3d3cm9vdCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4iLCJleHBvcnQgY29uc3QgU1lTVEVNX1NUT1JBR0VfS0VZX1RPS0VOID0gJ0BrZXk6OlN5c3RlbV9Ub2tlbic7XHJcbiIsImltcG9ydCB7IFVwZGF0ZVVzZXIgfSBmcm9tICcuLi9hdXRoL1VwZGF0ZVVzZXInO1xyXG5pbXBvcnQgeyBDU1NfQ0xBU1NfSU5QVVRfREFOR0VSIH0gZnJvbSAnLi4vY29uc3RhbnRzL2Nzcyc7XHJcbmltcG9ydCB7IEFuaW1Ub29sIH0gZnJvbSAnLi4vdG9vbHMvQW5pbVRvb2wnO1xyXG5pbXBvcnQgeyBJbWFnZVRvb2wgfSBmcm9tICcuLi90b29scy9JbWFnZVRvb2wnO1xyXG5pbXBvcnQgeyBQcm9ncmVzc0luZGljYXRvclRvb2wgfSBmcm9tICcuLi90b29scy9Qcm9ncmVzc0luZGljYXRvclRvb2wnO1xyXG5pbXBvcnQgeyBSZXN0QXBpVG9vbCB9IGZyb20gJy4uL3Rvb2xzL1Jlc3RBcGlUb29sJztcclxuaW1wb3J0IHsgVG9hc3RlclRvb2wgfSBmcm9tICcuLi90b29scy9Ub2FzdGVyVG9vbCc7XHJcbmltcG9ydCB7IFVzZXJFbnRpdHlWYWxpZGF0aW9uIH0gZnJvbSAnLi4vdmFsaWRhdGlvbi9Vc2VyRW50aXR5VmFsaWRhdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgSUF2YXRhciB7XHJcbiAgdG9vbDogSW1hZ2VUb29sO1xyXG4gIEhUTUxJbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICBpbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICBjaG9vc2VCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gIGJsb2I6IEJsb2I7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSW5wdXQge1xyXG4gIHBzZXVkb0lucHV0OiBIVE1MRWxlbWVudDtcclxuICBwc2V1ZG9JbnB1dFNwYW46IEhUTUxTcGFuRWxlbWVudDtcclxuICBmb3JtQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBmb3JtQ29udGFpbmVyRGF0YTogc3RyaW5nW107XHJcbiAgZm9ybTogSFRNTEVsZW1lbnQ7XHJcbiAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgb3JpZ2luYWxWYWx1ZTogc3RyaW5nO1xyXG4gIHVwZGF0ZU9uOiBBcnJheTxIVE1MRWxlbWVudD47XHJcbn1cclxuXHJcbmludGVyZmFjZSBJSW5wdXRFbWFpbCBleHRlbmRzIElJbnB1dCB7XHJcbiAgcGFzc3dvcmRJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlZFVzZXJQYWdlTW9kdWxlIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGFuaW0gPSBuZXcgQW5pbVRvb2woKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHZhbGlkYXRpb24gPSBuZXcgVXNlckVudGl0eVZhbGlkYXRpb24oKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHByb2dyZXNzID0gbmV3IFByb2dyZXNzSW5kaWNhdG9yVG9vbCgpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYXBpID0gbmV3IFJlc3RBcGlUb29sKCk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSB0b2FzdGVyID0gbmV3IFRvYXN0ZXJUb29sKCk7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgYXZhdGFyOiBJQXZhdGFyID0ge1xyXG4gICAgdG9vbDogbmV3IEltYWdlVG9vbCgpLFxyXG4gICAgSFRNTEltYWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXZhdGFyLUlNRycpIGFzIEhUTUxJbWFnZUVsZW1lbnQsXHJcbiAgICBpbnB1dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhci1oaWRkZW4taW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgY2hvb3NlQnV0dG9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hvb3NlLWF2YXRhci1idXR0b24nKSBhcyBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGJsb2I6IG51bGwsXHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBuYW1lOiBJSW5wdXQ7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgZW1haWw6IElJbnB1dEVtYWlsO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHBhc3N3b3JkID0ge1xyXG4gICAgcHNldWRvSW5wdXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc2V1ZG8taW5wdXQtcGFzc3dvcmQnKSxcclxuICAgIGZvcm1Db250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXVzZXItcGFzc3dvcmQtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQsXHJcbiAgICBmb3JtQ29udGFpbmVyRGF0YTogWycnLCAnJ10sXHJcbiAgICBmb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS11c2VyLXBhc3N3b3JkJykgYXMgSFRNTEVsZW1lbnQsXHJcbiAgICBpbnB1dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1wYXNzd29yZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgICBpbnB1dENvbmZpcm06IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctcGFzc3dvcmQtYWdhaW4nKSBhcyBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgaW5wdXRDdXJyZW50UGFzc3dvcmQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXBhc3N3b3JkJykgYXMgSFRNTElucHV0RWxlbWVudCxcclxuICAgIGhpZGRlblBhc3N3b3JkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZGVuLXBhc3N3b3JkJyksXHJcbiAgICBzaG93UGFzc3dvcmQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LXBhc3N3b3JkJyksXHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBzaWduT3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZ24tb3V0LWJ1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGNvbnN0IHBzZXVkb0lucHV0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc2V1ZG8taW5wdXQtbmFtZScpO1xyXG4gICAgY29uc3QgZm9ybUNvbnRhaW5lck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS11c2VyLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtQ29udGFpbmVyTmFtZS5xdWVyeVNlbGVjdG9yKCcuZm9ybS11c2VyLW5hbWUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGNvbnN0IGlucHV0TmFtZSA9IGZvcm1OYW1lLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHVwZGF0ZU5hbWVPbjogQXJyYXk8SFRNTEVsZW1lbnQ+ID0gW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLW5hbWUtc3Ryb25nJyldO1xyXG5cclxuICAgIHRoaXMubmFtZSA9IHtcclxuICAgICAgcHNldWRvSW5wdXQ6IHBzZXVkb0lucHV0TmFtZSxcclxuICAgICAgcHNldWRvSW5wdXRTcGFuOiBwc2V1ZG9JbnB1dE5hbWUucXVlcnlTZWxlY3Rvcignc3BhbicpLFxyXG4gICAgICBmb3JtQ29udGFpbmVyOiBmb3JtQ29udGFpbmVyTmFtZSxcclxuICAgICAgZm9ybUNvbnRhaW5lckRhdGE6IFsnJywgJyddLFxyXG4gICAgICBmb3JtOiBmb3JtTmFtZSxcclxuICAgICAgaW5wdXQ6IGlucHV0TmFtZSxcclxuICAgICAgb3JpZ2luYWxWYWx1ZTogaW5wdXROYW1lLmRhdGFzZXQub3JpZ2luYWwsXHJcbiAgICAgIHVwZGF0ZU9uOiB1cGRhdGVOYW1lT24sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubmFtZS51cGRhdGVPbi5wdXNoKHRoaXMubmFtZS5wc2V1ZG9JbnB1dFNwYW4pO1xyXG5cclxuICAgIGNvbnN0IHBzZXVkb0lucHV0RW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNldWRvLWlucHV0LWVtYWlsJyk7XHJcbiAgICBjb25zdCBmb3JtQ29udGFpbmVyRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS11c2VyLWVtYWlsLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3QgZm9ybUVtYWlsID0gZm9ybUNvbnRhaW5lckVtYWlsLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXVzZXItZW1haWwnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGNvbnN0IGlucHV0RW1haWwgPSBmb3JtRW1haWwucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dEZvckVtYWlsID0gZm9ybUVtYWlsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICdpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0nXHJcbiAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgdGhpcy5lbWFpbCA9IHtcclxuICAgICAgcHNldWRvSW5wdXQ6IHBzZXVkb0lucHV0RW1haWwsXHJcbiAgICAgIHBzZXVkb0lucHV0U3BhbjogcHNldWRvSW5wdXRFbWFpbC5xdWVyeVNlbGVjdG9yKCdzcGFuJyksXHJcbiAgICAgIGZvcm1Db250YWluZXI6IGZvcm1Db250YWluZXJFbWFpbCxcclxuICAgICAgZm9ybUNvbnRhaW5lckRhdGE6IFsnJywgJyddLFxyXG4gICAgICBmb3JtOiBmb3JtRW1haWwsXHJcbiAgICAgIGlucHV0OiBpbnB1dEVtYWlsLFxyXG4gICAgICBvcmlnaW5hbFZhbHVlOiBpbnB1dEVtYWlsLmRhdGFzZXQub3JpZ2luYWwsXHJcbiAgICAgIHVwZGF0ZU9uOiBbXSxcclxuICAgICAgcGFzc3dvcmRJbnB1dDogcGFzc3dvcmRJbnB1dEZvckVtYWlsLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVtYWlsLnVwZGF0ZU9uLnB1c2godGhpcy5lbWFpbC5wc2V1ZG9JbnB1dFNwYW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJ1bigpIHtcclxuICAgIHRoaXMucHJvY2Vzc0Zvcm1Db250YWluZXJEYXRhc2V0KCk7XHJcbiAgICB0aGlzLnNldExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5wcm9jZXNzQm9keVNpemUoKTtcclxuICAgIHRoaXMucHJvY2Vzc1Bhc3N3b3JkKCk7XHJcbiAgICB0aGlzLnByb2dyZXNzLmdlbmVyYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb2Nlc3NGb3JtQ29udGFpbmVyRGF0YXNldCgpIHtcclxuICAgIHRoaXMubmFtZS5mb3JtQ29udGFpbmVyRGF0YSA9IHRoaXMubmFtZS5mb3JtQ29udGFpbmVyLmRhdGFzZXQub3JpZ2luYWxQb3Muc3BsaXQoJy4nKTtcclxuICAgIHRoaXMuZW1haWwuZm9ybUNvbnRhaW5lckRhdGEgPSB0aGlzLmVtYWlsLmZvcm1Db250YWluZXIuZGF0YXNldC5vcmlnaW5hbFBvcy5zcGxpdCgnLicpO1xyXG4gICAgdGhpcy5wYXNzd29yZC5mb3JtQ29udGFpbmVyRGF0YSA9IHRoaXMucGFzc3dvcmQuZm9ybUNvbnRhaW5lci5kYXRhc2V0Lm9yaWdpbmFsUG9zLnNwbGl0KCcuJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuYXZhdGFyLmNob29zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuYXZhdGFyLmlucHV0LmNsaWNrKCkpO1xyXG5cclxuICAgIHRoaXMuYXZhdGFyLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gdGhpcy5hdmF0YXJQcm9jZXNzaW5nKCkpO1xyXG5cclxuICAgIHRoaXMubmFtZS5wc2V1ZG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XHJcbiAgICAgIHRoaXMuYWN0aXZlVXNlcklucHV0Q29uZmlndXJhdGlvbih0aGlzLm5hbWUpXHJcbiAgICApO1xyXG4gICAgdGhpcy5uYW1lLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnVwZGF0ZU5hbWUoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5uYW1lLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMudmFsaWRhdGlvbi5uYW1lSXNWYWxpZCh0aGlzLm5hbWUuaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lLmlucHV0LmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubmFtZS5pbnB1dC5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm5hbWUuZm9ybS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWRhbmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLm5hbWUuaW5wdXQudmFsdWUgPSB0aGlzLm5hbWUub3JpZ2luYWxWYWx1ZTtcclxuICAgICAgdGhpcy5kaXNhYmxlVXNlcklucHV0Q29uZmlndXJhdGlvbih0aGlzLm5hbWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5lbWFpbC5wc2V1ZG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XHJcbiAgICAgIHRoaXMuYWN0aXZlVXNlcklucHV0Q29uZmlndXJhdGlvbih0aGlzLmVtYWlsKVxyXG4gICAgKTtcclxuICAgIHRoaXMuZW1haWwuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMudXBkYXRlRW1haWwoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5lbWFpbC5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24uZW1haWxJc1ZhbGlkKHRoaXMuZW1haWwuaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgdGhpcy5lbWFpbC5pbnB1dC5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVtYWlsLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZW1haWwucGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24ucGFzc3dvcmRJc1ZhbGlkKHRoaXMuZW1haWwucGFzc3dvcmRJbnB1dC52YWx1ZSkpIHtcclxuICAgICAgICB0aGlzLmVtYWlsLnBhc3N3b3JkSW5wdXQuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5lbWFpbC5wYXNzd29yZElucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZW1haWwuZm9ybS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWRhbmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmVtYWlsLmlucHV0LnZhbHVlID0gdGhpcy5lbWFpbC5vcmlnaW5hbFZhbHVlO1xyXG4gICAgICB0aGlzLmRpc2FibGVVc2VySW5wdXRDb25maWd1cmF0aW9uKHRoaXMuZW1haWwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zaWduT3V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaWduT3V0KCkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUGFzc3dvcmQoKSB7XHJcbiAgICB0aGlzLnBhc3N3b3JkLnNob3dQYXNzd29yZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5wYXNzd29yZC5zaG93UGFzc3dvcmQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgIHRoaXMucGFzc3dvcmQuaGlkZGVuUGFzc3dvcmQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcblxyXG4gICAgICB0aGlzLnBhc3N3b3JkLmlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXRDb25maXJtLnR5cGUgPSAndGV4dCc7XHJcbiAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXRDdXJyZW50UGFzc3dvcmQudHlwZSA9ICd0ZXh0JztcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucGFzc3dvcmQuaGlkZGVuUGFzc3dvcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucGFzc3dvcmQuc2hvd1Bhc3N3b3JkLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICB0aGlzLnBhc3N3b3JkLmhpZGRlblBhc3N3b3JkLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG5cclxuICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dC50eXBlID0gJ3Bhc3N3b3JkJztcclxuICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0udHlwZSA9ICdwYXNzd29yZCc7XHJcbiAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXRDdXJyZW50UGFzc3dvcmQudHlwZSA9ICdwYXNzd29yZCc7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhc3N3b3JkLnBzZXVkb0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuICAgICAgdGhpcy5hY3RpdmVVc2VySW5wdXRQYXNzd29yZENvbmZpZ3VyYXRpb24oKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnBhc3N3b3JkLmZvcm0ucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1kYW5nZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgY29uc3QgW2F0dHIsIHBvc10gPSB0aGlzLnBhc3N3b3JkLmZvcm1Db250YWluZXJEYXRhO1xyXG4gICAgICAodGhpcy5wYXNzd29yZC5mb3JtQ29udGFpbmVyLnN0eWxlIGFzIGFueSlbYXR0cl0gPSBwb3M7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhc3N3b3JkLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnVwZGF0ZVBhc3N3b3JkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhc3N3b3JkLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMudmFsaWRhdGlvbi5wYXNzd29yZElzVmFsaWQodGhpcy5wYXNzd29yZC5pbnB1dC52YWx1ZSkpIHtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkLmlucHV0LmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmlucHV0LnZhbHVlICE9PSB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS52YWx1ZSkge1xyXG4gICAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXQuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhc3N3b3JkLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24ucGFzc3dvcmRJc1ZhbGlkKHRoaXMucGFzc3dvcmQuaW5wdXRDb25maXJtLnZhbHVlKSkge1xyXG4gICAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXRDb25maXJtLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmlucHV0LnZhbHVlICE9PSB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS52YWx1ZSkge1xyXG4gICAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXQuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBhc3N3b3JkLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5wYXNzd29yZC5pbnB1dEN1cnJlbnRQYXNzd29yZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24ucGFzc3dvcmRJc1ZhbGlkKHRoaXMucGFzc3dvcmQuaW5wdXRDdXJyZW50UGFzc3dvcmQudmFsdWUpKSB7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dEN1cnJlbnRQYXNzd29yZC5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhc3N3b3JkLmlucHV0Q3VycmVudFBhc3N3b3JkLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWN0aXZlVXNlcklucHV0Q29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uOiBJSW5wdXQpIHtcclxuICAgIGNvbmZpZ3VyYXRpb24ucHNldWRvSW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndmFyKC0tc2Vjb25kYXJ5KSc7XHJcbiAgICBjb25maWd1cmF0aW9uLnBzZXVkb0lucHV0U3Bhbi5zdHlsZS5jb2xvciA9ICd2YXIoLS10aXRsZSknO1xyXG5cclxuICAgIGNvbnN0IFthdHRyXSA9IGNvbmZpZ3VyYXRpb24uZm9ybUNvbnRhaW5lckRhdGE7XHJcbiAgICAoY29uZmlndXJhdGlvbi5mb3JtQ29udGFpbmVyLnN0eWxlIGFzIGFueSlbYXR0cl0gPSAnMCc7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbmZpZ3VyYXRpb24ucHNldWRvSW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnJztcclxuICAgICAgY29uZmlndXJhdGlvbi5wc2V1ZG9JbnB1dFNwYW4uc3R5bGUuY29sb3IgPSAnJztcclxuICAgIH0sIDUwMCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRpc2FibGVVc2VySW5wdXRDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb246IElJbnB1dCkge1xyXG4gICAgY29uc3QgW2F0dHIsIHBvc10gPSBjb25maWd1cmF0aW9uLmZvcm1Db250YWluZXJEYXRhO1xyXG4gICAgKGNvbmZpZ3VyYXRpb24uZm9ybUNvbnRhaW5lci5zdHlsZSBhcyBhbnkpW2F0dHJdID0gcG9zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhY3RpdmVVc2VySW5wdXRQYXNzd29yZENvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICBjb25zdCBbYXR0cl0gPSB0aGlzLnBhc3N3b3JkLmZvcm1Db250YWluZXJEYXRhO1xyXG4gICAgKHRoaXMucGFzc3dvcmQuZm9ybUNvbnRhaW5lci5zdHlsZSBhcyBhbnkpW2F0dHJdID0gJzAnO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhdmF0YXJQcm9jZXNzaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuYXZhdGFyLmlucHV0LmZpbGVzICYmIHRoaXMuYXZhdGFyLmlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB0aGlzLmF2YXRhci50b29sLmltYWdlVG9CbG9iKHRoaXMuYXZhdGFyLmlucHV0LmZpbGVzWzBdKTtcclxuICAgICAgaWYgKGJsb2IpIHtcclxuICAgICAgICB0aGlzLmF2YXRhci5ibG9iID0gYmxvYjtcclxuICAgICAgICB0aGlzLmF2YXRhci5IVE1MSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzQm9keVNpemUoKSB7XHJcbiAgICBjb25zdCBoZWFkZXJIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLmNsaWVudEhlaWdodDtcclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI3VzZXItYm9keScpO1xyXG4gICAgYm9keS5zdHlsZS5taW5IZWlnaHQgPSBgY2FsYygxMDB2aCAtICR7aGVhZGVySH1weClgO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVOYW1lKCkge1xyXG4gICAgY29uc3QgbmFtZSA9IHRoaXMubmFtZS5pbnB1dC52YWx1ZTtcclxuICAgIGlmICghdGhpcy52YWxpZGF0aW9uLm5hbWVJc1ZhbGlkKG5hbWUpKSB7XHJcbiAgICAgIHRoaXMudG9hc3Rlci53YXJuKHRoaXMubmFtZS5pbnB1dC5kYXRhc2V0LmVycm9yKTtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMubmFtZS5pbnB1dCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVVc2VyLnVzZXJOYW1lKG5hbWUsIHRoaXMuYXBpKVxyXG4gICAgICAudGhlbigoeyBqc29uLCBzdGF0dXMgfSkgPT4ge1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgdGhpcy50b2FzdGVyLnN1Y2Nlc3MoanNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgIHRoaXMubmFtZS51cGRhdGVPbi5mb3JFYWNoKChlbGVtZW50KSA9PiAoZWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWUpKTtcclxuICAgICAgICAgIHRoaXMuZGlzYWJsZVVzZXJJbnB1dENvbmZpZ3VyYXRpb24odGhpcy5uYW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50b2FzdGVyLndhcm4oanNvbi5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICB0aGlzLnRvYXN0ZXIuZGFuZ2VyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVFbWFpbCgpIHtcclxuICAgIGNvbnN0IGVtYWlsID0gdGhpcy5lbWFpbC5pbnB1dC52YWx1ZTtcclxuICAgIGlmICghdGhpcy52YWxpZGF0aW9uLmVtYWlsSXNWYWxpZChlbWFpbCkpIHtcclxuICAgICAgdGhpcy50b2FzdGVyLndhcm4odGhpcy5lbWFpbC5pbnB1dC5kYXRhc2V0LmVycm9yKTtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMuZW1haWwuaW5wdXQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLmVtYWlsLnBhc3N3b3JkSW5wdXQudmFsdWU7XHJcbiAgICBpZiAoIXRoaXMudmFsaWRhdGlvbi5wYXNzd29yZElzVmFsaWQocGFzc3dvcmQpKSB7XHJcbiAgICAgIHRoaXMudG9hc3Rlci53YXJuKHRoaXMuZW1haWwucGFzc3dvcmRJbnB1dC5kYXRhc2V0LmVycm9yKTtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMuZW1haWwucGFzc3dvcmRJbnB1dCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGVVc2VyLmVtYWlsKGVtYWlsLCBwYXNzd29yZCwgdGhpcy5hcGkpXHJcbiAgICAgIC50aGVuKCh7IGpzb24sIHN0YXR1cyB9KSA9PiB7XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBqc29uO1xyXG4gICAgICAgICAgUmVzdEFwaVRvb2wudXBkYXRlVG9rZW4odG9rZW4pO1xyXG4gICAgICAgICAgdGhpcy50b2FzdGVyLnN1Y2Nlc3MoanNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgIHRoaXMuZW1haWwudXBkYXRlT24uZm9yRWFjaCgoZWxlbWVudCkgPT4gKGVsZW1lbnQudGV4dENvbnRlbnQgPSBlbWFpbCkpO1xyXG4gICAgICAgICAgdGhpcy5kaXNhYmxlVXNlcklucHV0Q29uZmlndXJhdGlvbih0aGlzLmVtYWlsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50b2FzdGVyLndhcm4oanNvbi5lcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICB0aGlzLnRvYXN0ZXIuZGFuZ2VyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVQYXNzd29yZCgpIHtcclxuICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gdGhpcy5wYXNzd29yZC5pbnB1dC52YWx1ZTtcclxuICAgIGlmIChuZXdQYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0udmFsdWUpIHtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMucGFzc3dvcmQuaW5wdXRDb25maXJtKTtcclxuICAgICAgdGhpcy50b2FzdGVyLndhcm4odGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0uZGF0YXNldC5lcnJvcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKHsgbmV3UGFzc3dvcmQsIGFnYWluOiB0aGlzLnBhc3N3b3JkLmlucHV0Q29uZmlybS52YWx1ZSB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLnZhbGlkYXRpb24ucGFzc3dvcmRJc1ZhbGlkKG5ld1Bhc3N3b3JkKSkge1xyXG4gICAgICB0aGlzLmFuaW0uc2hha2UodGhpcy5wYXNzd29yZC5pbnB1dCk7XHJcbiAgICAgIHRoaXMudG9hc3Rlci53YXJuKHRoaXMucGFzc3dvcmQuaW5wdXQuZGF0YXNldC5lcnJvcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZC5pbnB1dEN1cnJlbnRQYXNzd29yZC52YWx1ZTtcclxuICAgIGlmICghdGhpcy52YWxpZGF0aW9uLnBhc3N3b3JkSXNWYWxpZChwYXNzd29yZCkpIHtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMucGFzc3dvcmQuaW5wdXRDdXJyZW50UGFzc3dvcmQpO1xyXG4gICAgICB0aGlzLnRvYXN0ZXIud2Fybih0aGlzLnBhc3N3b3JkLmlucHV0Q3VycmVudFBhc3N3b3JkLmRhdGFzZXQuZXJyb3IpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBVcGRhdGVVc2VyLnBhc3N3b3JkKG5ld1Bhc3N3b3JkLCBwYXNzd29yZCwgdGhpcy5hcGkpXHJcbiAgICAgIC50aGVuKCh7IGpzb24sIHN0YXR1cyB9KSA9PiB7XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB0aGlzLnRvYXN0ZXIuc3VjY2Vzcyhqc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgKHRoaXMucGFzc3dvcmQuZm9ybS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWRhbmdlcicpIGFzIEhUTUxCdXR0b25FbGVtZW50KS5jbGljaygpO1xyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZC5pbnB1dENvbmZpcm0udmFsdWUgPSAnJztcclxuICAgICAgICAgIHRoaXMucGFzc3dvcmQuaW5wdXRDdXJyZW50UGFzc3dvcmQudmFsdWUgPSAnJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50b2FzdGVyLndhcm4oanNvbi5lcnJvcik7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudG9hc3Rlci5kYW5nZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNpZ25PdXQoKSB7XHJcbiAgICB0aGlzLnByb2dyZXNzLnNob3coKTtcclxuICAgIHRoaXMuYXBpXHJcbiAgICAgIC5zaWduT3V0KClcclxuICAgICAgLnRoZW4oKGlzT0spID0+IHtcclxuICAgICAgICBpZiAoaXNPSylcclxuICAgICAgICAgIHRoaXMudG9hc3Rlci5zdWNjZXNzKHRoaXMuc2lnbk91dEJ1dHRvbi5kYXRhc2V0Lm1lc3NhZ2UsICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSk7XHJcbiAgICAgICAgZWxzZSB0aGlzLnRvYXN0ZXIuZGFuZ2VyKCdPb3Bzcy4uLicpO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MuaGlkZGVuKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIHRoaXMudG9hc3Rlci5kYW5nZXIoJ09vcHNzLi4uJyk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5oaWRkZW4oKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENTU19DTEFTU19JTlBVVF9EQU5HRVIgfSBmcm9tICcuLi9jb25zdGFudHMvY3NzJztcclxuaW1wb3J0IHsgQW5pbVRvb2wgfSBmcm9tICcuLi90b29scy9BbmltVG9vbCc7XHJcbmltcG9ydCB7IFByb2dyZXNzSW5kaWNhdG9yVG9vbCB9IGZyb20gJy4uL3Rvb2xzL1Byb2dyZXNzSW5kaWNhdG9yVG9vbCc7XHJcbmltcG9ydCB7IFJlc3RBcGlUb29sIH0gZnJvbSAnLi4vdG9vbHMvUmVzdEFwaVRvb2wnO1xyXG5pbXBvcnQgeyBUb2FzdGVyVG9vbCB9IGZyb20gJy4uL3Rvb2xzL1RvYXN0ZXJUb29sJztcclxuaW1wb3J0IHsgVXNlckVudGl0eVZhbGlkYXRpb24gfSBmcm9tICcuLi92YWxpZGF0aW9uL1VzZXJFbnRpdHlWYWxpZGF0aW9uJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXNzaW9uTW9kdWxlIGltcGxlbWVudHMgZ2xvYmFsVGhpcy5Nb2R1bGUge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgSFRNTF9TRVNTSU9OX1RZUEUgPSB7IHNpZ25JbjogJ1NJR05fSU4nLCBzaWduVXA6ICdTSUdOX1VQJyB9O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgdmFsaWRhdGlvbiA9IG5ldyBVc2VyRW50aXR5VmFsaWRhdGlvbigpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYW5pbSA9IG5ldyBBbmltVG9vbCgpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYXBpID0gbmV3IFJlc3RBcGlUb29sKCk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSB0b2FzdGVyID0gbmV3IFRvYXN0ZXJUb29sKCk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBwcm9ncmVzc0luZGljYXRvciA9IG5ldyBQcm9ncmVzc0luZGljYXRvclRvb2woKTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBidXR0b25TaG93U2Vzc2lvbkZvcm0gPVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJyNzaG93LXNlc3Npb24tZm9ybScpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYnV0dG9uSGlkZGVuU2Vzc2lvbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Vzc2lvbi1mb3JtLWhpZGRlbicpO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHNob3dTZXNzaW9uRm9ybUZyb21Cb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXHJcbiAgICAnI2NvbnRhaW5lci12aWV3LWNhbGwtc2Vzc2lvbi1mb3JtJ1xyXG4gICk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBob21lTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTExpbmtFbGVtZW50PignI2hvbWUtbGluaycpO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHNlc3Npb25Gb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJyNzZXNzaW9uLWZvcm0nKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNlc3Npb25Gb3JtID0gdGhpcy5zZXNzaW9uRm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2Vzc2lvbkVtYWlsSW5wdXQgPVxyXG4gICAgdGhpcy5zZXNzaW9uRm9ybS5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjc2Vzc2lvbi1lbWFpbCcpO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHNlc3Npb25QYXNzd29yZElucHV0ID1cclxuICAgIHRoaXMuc2Vzc2lvbkZvcm0ucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3Nlc3Npb24tcGFzc3dvcmQnKTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBidXR0b25TZXNzaW9uU2lnblVwID0gdGhpcy5zZXNzaW9uRm9ybS5xdWVyeVNlbGVjdG9yKCcjc2lnbi11cCcpO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGJ1dHRvblNlc3Npb25TaWduSW4gPSB0aGlzLnNlc3Npb25Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcblxyXG4gIHB1YmxpYyBydW4oKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0luZGljYXRvci5nZW5lcmF0ZSgpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dTZXNzaW9uRm9ybSgpIHtcclxuICAgIHRoaXMuc2Vzc2lvbkZvcm1Db250YWluZXIuc3R5bGUubGVmdCA9ICcwJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5idXR0b25TaG93U2Vzc2lvbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dTZXNzaW9uRm9ybSgpKTtcclxuICAgIHRoaXMuYnV0dG9uSGlkZGVuU2Vzc2lvbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhpZGRlblNlc3Npb25Gb3JtKCkpO1xyXG4gICAgaWYgKHRoaXMuc2hvd1Nlc3Npb25Gb3JtRnJvbUJvZHkgJiYgdGhpcy5ob21lTGluaykge1xyXG4gICAgICB0aGlzLnNob3dTZXNzaW9uRm9ybUZyb21Cb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93U2Vzc2lvbkZvcm0oKSk7XHJcbiAgICAgIHRoaXMuaG9tZUxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2Vzc2lvbkVtYWlsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uLmVtYWlsSXNWYWxpZCh0aGlzLnNlc3Npb25FbWFpbElucHV0LnZhbHVlKSkge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbkVtYWlsSW5wdXQuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NfSU5QVVRfREFOR0VSKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZXNzaW9uRW1haWxJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZXNzaW9uUGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24ucGFzc3dvcmRJc1ZhbGlkKHRoaXMuc2Vzc2lvblBhc3N3b3JkSW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uUGFzc3dvcmRJbnB1dC5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19JTlBVVF9EQU5HRVIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlc3Npb25QYXNzd29yZElucHV0LmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX0lOUFVUX0RBTkdFUik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmJ1dHRvblNlc3Npb25TaWduVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2Vzc2lvbkZvcm0uZGF0YXNldC5zZXNzaW9uVHlwZSA9IHRoaXMuSFRNTF9TRVNTSU9OX1RZUEUuc2lnblVwO1xyXG4gICAgICB0aGlzLnNlc3Npb25TdWJtaXQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYnV0dG9uU2Vzc2lvblNpZ25Jbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5zZXNzaW9uRm9ybS5kYXRhc2V0LnNlc3Npb25UeXBlID0gdGhpcy5IVE1MX1NFU1NJT05fVFlQRS5zaWduSW47XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc2Vzc2lvbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHRoaXMuc2Vzc2lvblN1Ym1pdChlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhpZGRlblNlc3Npb25Gb3JtKCkge1xyXG4gICAgdGhpcy5zZXNzaW9uRm9ybUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzEwMHZ3JztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2Vzc2lvblN1Ym1pdChlPzogU3VibWl0RXZlbnQpIHtcclxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLnByb2dyZXNzSW5kaWNhdG9yLnNob3coKTtcclxuICAgIGNvbnN0IGVtYWlsID0gdGhpcy5zZXNzaW9uRW1haWxJbnB1dC52YWx1ZTtcclxuICAgIGlmICghdGhpcy52YWxpZGF0aW9uLmVtYWlsSXNWYWxpZChlbWFpbCkpIHtcclxuICAgICAgdGhpcy5hbmltLnNoYWtlKHRoaXMuc2Vzc2lvbkVtYWlsSW5wdXQpO1xyXG4gICAgICB0aGlzLnByb2dyZXNzSW5kaWNhdG9yLmhpZGRlbigpO1xyXG4gICAgICB0aGlzLnRvYXN0ZXIud2Fybih0aGlzLnNlc3Npb25FbWFpbElucHV0LmRhdGFzZXQuZXJyb3IpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXNzd29yZCA9IHRoaXMuc2Vzc2lvblBhc3N3b3JkSW5wdXQudmFsdWU7XHJcbiAgICBpZiAoIXRoaXMudmFsaWRhdGlvbi5wYXNzd29yZElzVmFsaWQocGFzc3dvcmQpKSB7XHJcbiAgICAgIHRoaXMuYW5pbS5zaGFrZSh0aGlzLnNlc3Npb25QYXNzd29yZElucHV0KTtcclxuICAgICAgdGhpcy5wcm9ncmVzc0luZGljYXRvci5oaWRkZW4oKTtcclxuICAgICAgdGhpcy50b2FzdGVyLndhcm4odGhpcy5zZXNzaW9uUGFzc3dvcmRJbnB1dC5kYXRhc2V0LmVycm9yKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2Vzc2lvblR5cGUgPSB0aGlzLnNlc3Npb25Gb3JtLmRhdGFzZXQuc2Vzc2lvblR5cGU7XHJcbiAgICBpZiAoc2Vzc2lvblR5cGUgPT09IHRoaXMuSFRNTF9TRVNTSU9OX1RZUEUuc2lnbkluKSByZXR1cm4gdGhpcy5zZXNzaW9uU2lnbkluKGVtYWlsLCBwYXNzd29yZCk7XHJcbiAgICB0aGlzLnNlc3Npb25TaWduVXAoZW1haWwsIHBhc3N3b3JkKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2Vzc2lvblNpZ25VcChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XHJcbiAgICBsZXQgd2ViUmVzcG9uc2U6IFJlc3BvbnNlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmFwaVxyXG4gICAgICAucG9zdCgnL3Nlc3Npb24vc2lnbi11cCcsIHsgZW1haWwsIHBhc3N3b3JkIH0pXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHdlYlJlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgcmV0dXJuIHdlYlJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKGpzb24pID0+IHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzSW5kaWNhdG9yLmhpZGRlbigpO1xyXG4gICAgICAgIHN3aXRjaCAod2ViUmVzcG9uc2Uuc3RhdHVzKSB7XHJcbiAgICAgICAgICBjYXNlIDIwMDpcclxuICAgICAgICAgICAgdGhpcy50b2FzdGVyLnN1Y2Nlc3MoJ09sw6EsICcgKyBqc29uLnVzZXIubmFtZSwgKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpKTtcclxuICAgICAgICAgICAgUmVzdEFwaVRvb2wudXBkYXRlVG9rZW4oanNvbi50b2tlbik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhpcy50b2FzdGVyLmRhbmdlcihqc29uLmVycm9yKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0luZGljYXRvci5oaWRkZW4oKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNlc3Npb25TaWduSW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xyXG4gICAgbGV0IHdlYlJlc3BvbnNlOiBSZXNwb25zZSA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5hcGlcclxuICAgICAgLnBvc3QoJy9zZXNzaW9uJywgeyBlbWFpbCwgcGFzc3dvcmQgfSlcclxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgd2ViUmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgICAgICByZXR1cm4gd2ViUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoanNvbikgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJbmRpY2F0b3IuaGlkZGVuKCk7XHJcbiAgICAgICAgc3dpdGNoICh3ZWJSZXNwb25zZS5zdGF0dXMpIHtcclxuICAgICAgICAgIGNhc2UgMjAwOlxyXG4gICAgICAgICAgICB0aGlzLnRvYXN0ZXIuc3VjY2VzcygnT2zDoSwgJyArIGpzb24udXNlci5uYW1lLCAoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkpO1xyXG4gICAgICAgICAgICBSZXN0QXBpVG9vbC51cGRhdGVUb2tlbihqc29uLnRva2VuKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aGlzLnRvYXN0ZXIuZGFuZ2VyKGpzb24uZXJyb3IpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzSW5kaWNhdG9yLmhpZGRlbigpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ1NTX0NMQVNTX1NIQUtFX0FOSU0gfSBmcm9tICcuLi9jb25zdGFudHMvY3NzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBbmltVG9vbCB7XHJcbiAgcHVibGljIHNoYWtlKGVsOiBIVE1MRWxlbWVudCwgZm9jdXMgPSB0cnVlLCB0aW1lID0gNTAwKSB7XHJcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKENTU19DTEFTU19TSEFLRV9BTklNKSkgZWwuY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NfU0hBS0VfQU5JTSk7XHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKENTU19DTEFTU19TSEFLRV9BTklNKTtcclxuICAgIGlmIChmb2N1cyAmJiB0eXBlb2YgZWwuZm9jdXMgPT09ICdmdW5jdGlvbicpIGVsLmZvY3VzKCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX1NIQUtFX0FOSU0pLCB0aW1lKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKiBAZGVzY3JpcHRpb24gVG9kYXMgYXMgdG9vbHMgZGV2ZW0gc2VyIGluc3RhbmNpYWRhcy4gTsOjbyBzw6NvIG1haXMgdXRpbGl6YWRvcyBtw6l0b2RvcyBzdGF0aWMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzaGFrZShlbDogSFRNTEVsZW1lbnQsIGZvY3VzID0gdHJ1ZSwgdGltZSA9IDUwMCkge1xyXG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhDU1NfQ0xBU1NfU0hBS0VfQU5JTSkpIGVsLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTX1NIQUtFX0FOSU0pO1xyXG4gICAgZWwuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NfU0hBS0VfQU5JTSk7XHJcbiAgICBpZiAoZm9jdXMgJiYgdHlwZW9mIGVsLmZvY3VzID09PSAnZnVuY3Rpb24nKSBlbC5mb2N1cygpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU19TSEFLRV9BTklNKSwgdGltZSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBJbWFnZVRvb2wge1xyXG4gIHB1YmxpYyBpbWFnZVRvQmxvYihmaWxlOiBGaWxlLCB3aWR0aCA9IDMwMCwgaGVpZ2h0ID0gMzAwLCByZXNpemUgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8QmxvYiB8IG51bGw+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFmaWxlKSByZXR1cm4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUgYXMgQmxvYik7XHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHcgPSBpbWcud2lkdGg7XHJcbiAgICAgICAgICBjb25zdCBoID0gaW1nLmhlaWdodDtcclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG4gICAgICAgICAgY29uc3QgbkltYWdlID1cclxuICAgICAgICAgICAgKHJlc2l6ZSAmJlxyXG4gICAgICAgICAgICAgICh3IDwgaFxyXG4gICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLnJlc2l6ZUhlaWdodChpbWcsIHcsIGgpXHJcbiAgICAgICAgICAgICAgICA6IHcgPiBoXHJcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMucmVzaXplV2lkdGgoaW1nLCB3LCBoKVxyXG4gICAgICAgICAgICAgICAgOiBpbWcpKSB8fFxyXG4gICAgICAgICAgICBpbWc7XHJcbiAgICAgICAgICBjdHguY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICBjdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UobkltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgIGN0eC5jYW52YXMudG9CbG9iKFxyXG4gICAgICAgICAgICAoYikgPT4ge1xyXG4gICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKGIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaW1hZ2UvanBlZycsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcclxuICAgICAgICBpbWcuc3JjID0gdXJsO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGltYWdlVG9CbG9iV2hpdGhvdXRSZXNpemUoZmlsZTogRmlsZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEJsb2IgfCBudWxsPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICghZmlsZSkgcmV0dXJuIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlIGFzIEJsb2IpO1xyXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltZy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB3ID0gaW1nLndpZHRoICogMC44O1xyXG4gICAgICAgICAgY29uc3QgaCA9IGltZy5oZWlnaHQgKiAwLjg7XHJcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcclxuXHJcbiAgICAgICAgICBjdHguY2FudmFzLndpZHRoID0gdztcclxuICAgICAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gaDtcclxuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3LCBoKTtcclxuICAgICAgICAgIGN0eC5jYW52YXMudG9CbG9iKFxyXG4gICAgICAgICAgICAoYikgPT4ge1xyXG4gICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKGIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaW1hZ2UvanBlZycsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcclxuICAgICAgICBpbWcuc3JjID0gdXJsO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNpemVIZWlnaHQoaW1nOiBIVE1MSW1hZ2VFbGVtZW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjdi5nZXRDb250ZXh0KCcyZCcpITtcclxuICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gd2lkdGg7XHJcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgaGVpZ2h0ICogMC4yLCB3aWR0aCwgd2lkdGgsIDAsIDAsIHdpZHRoLCB3aWR0aCk7XHJcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1hZ2UpO1xyXG4gICAgICBpbWFnZS5zcmMgPSBjb250ZXh0LmNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNpemVXaWR0aChpbWc6IEhUTUxJbWFnZUVsZW1lbnQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgY29uc3QgY3YgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgY29uc3QgY29udGV4dCA9IGN2LmdldENvbnRleHQoJzJkJykhO1xyXG4gICAgICBjb250ZXh0LmNhbnZhcy53aWR0aCA9IGhlaWdodDtcclxuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIHdpZHRoICogMC4yLCAwLCBoZWlnaHQsIGhlaWdodCwgMCwgMCwgaGVpZ2h0LCBoZWlnaHQpO1xyXG4gICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltYWdlKTtcclxuICAgICAgaW1hZ2Uuc3JjID0gY29udGV4dC5jYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgV1dXUk9PVCB9IGZyb20gJy4uL2NvbnN0YW50cy9odG1sJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmVzc0luZGljYXRvclRvb2wge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xhc3NOYW1lID0ge1xyXG4gICAgY29udGFpbmVyOiAncHJvZ3Jlc3MtaW5kaWNhdG9yLWNvbnRhaW5lcicsXHJcbiAgICBiYWNrZ3JvdW5kOiAncHJvZ3Jlc3MtaW5kaWNhdG9yLWJhY2tncm91bmQnLFxyXG4gICAgaW5kaWNhdG9yOiAncHJvZ3Jlc3MtaW5kaWNhdG9yJyxcclxuICAgIGluZGljYXRvcjI6ICdwcm9ncmVzcy1pbmRpY2F0b3ItMicsXHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBpbmRpY2F0b3I6IEhUTUxEaXZFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgcHVibGljIGdlbmVyYXRlKCkge1xyXG4gICAgaWYgKCF0aGlzLmluZGljYXRvcikge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjb25zdCBwcm9ncmVzc0luZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjb25zdCBwcm9ncmVzc0luZGljYXRvcjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWUuY29udGFpbmVyKTtcclxuICAgICAgYmFja2dyb3VuZC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lLmJhY2tncm91bmQpO1xyXG4gICAgICBwcm9ncmVzc0luZGljYXRvci5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lLmluZGljYXRvcik7XHJcbiAgICAgIHByb2dyZXNzSW5kaWNhdG9yMi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lLmluZGljYXRvcjIpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZC5hcHBlbmQocHJvZ3Jlc3NJbmRpY2F0b3IsIHByb2dyZXNzSW5kaWNhdG9yMik7XHJcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcclxuICAgICAgdGhpcy5pbmRpY2F0b3IgPSBjb250YWluZXI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2VuZXJhdGVBbmRTaG93KCkge1xyXG4gICAgdGhpcy5nZW5lcmF0ZSgpO1xyXG4gICAgdGhpcy5zaG93KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2hvdygpIHtcclxuICAgIGlmICh0aGlzLmluZGljYXRvcikge1xyXG4gICAgICBXV1dST09ULmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRkZW4oKSB7XHJcbiAgICBpZiAodGhpcy5pbmRpY2F0b3IpIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmluZGljYXRvci5yZW1vdmUoKSwgNDAwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIHB0LUJSOiBBIGZ1bsOnw6NvIGBkZXN0cm95SW5zdGFuY2VgIHJlbW92ZSBhIGluc3TDom5jaWEgZG8gSFRNTCBlIHRvcm5hIG8gYXRyaWJ1dG8gbnVsby4gSXNzbyBpbXBsaWNhIG5hIGVsaW1pbmHDp8OjbyBjb21wbGV0YSBkbyBpbmRpY2Fkb3IuIEFzc2ltLCBhbyBzZXIgcmVjcmlhZG8sIHVtYSBub3ZhIGluc3TDom5jaWEgc2Vyw6EgZ2VyYWRhLiBJc3NvIGRpZmVyZSBkbyBtw6l0b2RvIGBoaWRkZW5gLCBxdWUgYXBlbmFzIHJlbW92ZSBvIGVsZW1lbnRvIGRvIEhUTUwsIG1hbnRlbmRvIGEgaW5zdMOibmNpYSBpbnRhY3RhLlxyXG4gICAqXHJcbiAgICogZW46IFRoZSBgZGVzdHJveUluc3RhbmNlYCBmdW5jdGlvbiByZW1vdmVzIHRoZSBIVE1MIGluc3RhbmNlIGFuZCBzZXRzIHRoZSBhdHRyaWJ1dGUgdG8gbnVsbC4gVGhpcyBpbXBsaWVzIHRoZSBjb21wbGV0ZSBlbGltaW5hdGlvbiBvZiB0aGUgaW5kaWNhdG9yLiBUaHVzLCB1cG9uIHJlY3JlYXRpb24sIGEgbmV3IGluc3RhbmNlIHdpbGwgYmUgZ2VuZXJhdGVkLiBUaGlzIGRpZmZlcnMgZnJvbSB0aGUgYGhpZGRlbmAgbWV0aG9kLCB3aGljaCBvbmx5IHJlbW92ZXMgdGhlIEhUTUwgZWxlbWVudCwga2VlcGluZyB0aGUgaW5zdGFuY2UgaW50YWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXN0cm95SW5zdGFuY2UoKSB7XHJcbiAgICBpZiAodGhpcy5pbmRpY2F0b3IpIHtcclxuICAgICAgdGhpcy5pbmRpY2F0b3IucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuaW5kaWNhdG9yID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU1lTVEVNX1NUT1JBR0VfS0VZX1RPS0VOIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5c3RlbSc7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVzdEFwaVRvb2wge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYmFzZSA9ICcvYXBpJztcclxuXHJcbiAgcHVibGljIGFzeW5jIHBvc3QocGF0aDogc3RyaW5nLCBib2R5OiB1bmtub3duLCByZXF1ZXN0SGVhZGVycyA9IHt9IGFzIEhlYWRlcnMpIHtcclxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5yZWNvdmVyeVRva2VuKCk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgIGlmIChyZXF1ZXN0SGVhZGVycykge1xyXG4gICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0SGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiBoZWFkZXJzLnNldChrZXksIChyZXF1ZXN0SGVhZGVycyBhcyBhbnkpW2tleV0pKTtcclxuICAgIH1cclxuICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgaWYgKHRva2VuKSBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKTtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2UuY29uY2F0KHBhdGhbMF0gPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoKSwge1xyXG4gICAgICBib2R5OiB0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycgPyBib2R5IDogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgcGF0Y2gocGF0aDogc3RyaW5nLCBib2R5OiB1bmtub3duLCByZXF1ZXN0SGVhZGVycyA9IHt9IGFzIEhlYWRlcnMpIHtcclxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5yZWNvdmVyeVRva2VuKCk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgIGlmIChyZXF1ZXN0SGVhZGVycykge1xyXG4gICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0SGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiBoZWFkZXJzLnNldChrZXksIChyZXF1ZXN0SGVhZGVycyBhcyBhbnkpW2tleV0pKTtcclxuICAgIH1cclxuICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgaWYgKHRva2VuKSBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKTtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2UuY29uY2F0KHBhdGhbMF0gPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoKSwge1xyXG4gICAgICBib2R5OiB0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycgPyBib2R5IDogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHB1dChwYXRoOiBzdHJpbmcsIGJvZHk6IHVua25vd24sIHJlcXVlc3RIZWFkZXJzID0ge30gYXMgSGVhZGVycykge1xyXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLnJlY292ZXJ5VG9rZW4oKTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgaWYgKHJlcXVlc3RIZWFkZXJzKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKHJlcXVlc3RIZWFkZXJzKS5mb3JFYWNoKChrZXkpID0+IGhlYWRlcnMuc2V0KGtleSwgKHJlcXVlc3RIZWFkZXJzIGFzIGFueSlba2V5XSkpO1xyXG4gICAgfVxyXG4gICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICBpZiAodG9rZW4pIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApO1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZS5jb25jYXQocGF0aFswXSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGgpLCB7XHJcbiAgICAgIGJvZHk6IHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJyA/IGJvZHkgOiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGRlbGV0ZShwYXRoOiBzdHJpbmcsIHJlcXVlc3RIZWFkZXJzID0ge30gYXMgSGVhZGVycykge1xyXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLnJlY292ZXJ5VG9rZW4oKTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgaWYgKHJlcXVlc3RIZWFkZXJzKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKHJlcXVlc3RIZWFkZXJzKS5mb3JFYWNoKChrZXkpID0+IGhlYWRlcnMuc2V0KGtleSwgKHJlcXVlc3RIZWFkZXJzIGFzIGFueSlba2V5XSkpO1xyXG4gICAgfVxyXG4gICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICBpZiAodG9rZW4pIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApO1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZS5jb25jYXQocGF0aFswXSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGgpLCB7XHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzaWduT3V0KCkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5kZWxldGUoJy9zZXNzaW9uL3NpZ24tb3V0Jyk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyA9PT0gMjAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWNvdmVyeVRva2VuKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNZU1RFTV9TVE9SQUdFX0tFWV9UT0tFTik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdXBkYXRlVG9rZW4odG9rZW46IHN0cmluZykge1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUT0tFTl9JTlZBTElEJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNZU1RFTV9TVE9SQUdFX0tFWV9UT0tFTiwgdG9rZW4pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDU1NfREVGQVVMVF9UUkFOU0lUSU9OX1RJTUUgfSBmcm9tICcuLi9jb25zdGFudHMvY3NzJztcclxuaW1wb3J0IHsgV1dXUk9PVCB9IGZyb20gJy4uL2NvbnN0YW50cy9odG1sJztcclxuXHJcbmNvbnN0IGlkID0ge1xyXG4gIGNvbnRhaW5lcjogJ3RvYXN0ZXItY29udGFpbmVyJyxcclxuICBjb250YWluZXJBY3RpdmU6ICd0b2FzdGVyLWNvbnRhaW5lci1hY3RpdmUnLFxyXG4gIGhlYWRlcjogJ3RvYXN0ZXItaGVhZGVyJyxcclxuICBoZWFkZXJQYXJ0OiAndG9hc3Rlci1oZWFkZXItcGFydCcsXHJcbiAgbWVzc2FnZTogJ3RvYXN0ZXItbWVzc2FnZScsXHJcbn07XHJcbmNvbnN0IGhlYWRlckJhc2VJY29ucyA9IHtcclxuICBzdWNjZXNzOiAnYmktY2hlY2syLWNpcmNsZScsXHJcbiAgaW5mbzogJ2JpLWluZm8tY2lyY2xlJyxcclxuICBkYW5nZXI6ICdiaS1leGNsYW1hdGlvbi1kaWFtb25kJyxcclxuICB3YXJuOiAnYmktcXVlc3Rpb24tZGlhbW9uZCcsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVG9hc3RlclRvb2wge1xyXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHN0YWNrOiBBcnJheTx7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICB0aW1lcjogbnVtYmVyO1xyXG4gICAgdHlwZTogJ3N1Y2Nlc3MnIHwgJ2RhbmdlcicgfCAnd2FybicgfCAnaW5mbyc7XHJcbiAgICBvbkRlc3Ryb3k6ICgpID0+IHZvaWQ7XHJcbiAgfT4gPSBbXTtcclxuXHJcbiAgcHVibGljIHN1Y2Nlc3MobWVzc2FnZVR4dDogc3RyaW5nID0gJzopJywgb25EZXN0cm95PzogKCkgPT4gdm9pZCwgdGltZXIgPSA2MDAwKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQuY29udGFpbmVyKSkge1xyXG4gICAgICB0aGlzLnRvU3RhY2sobWVzc2FnZVR4dCwgdGltZXIsIG9uRGVzdHJveSwgJ3N1Y2Nlc3MnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgY29udGFpbmVyLCBjb250YWluZXJBY3RpdmUsIG1lc3NhZ2UsIGhlYWRlckljb24gfSA9IHRoaXMuZ2VuZXJhdGVCYXNlKFxyXG4gICAgICBtZXNzYWdlVHh0LFxyXG4gICAgICAnc3VjY2VzcycsXHJcbiAgICAgIHRpbWVyLFxyXG4gICAgICBvbkRlc3Ryb3lcclxuICAgICk7XHJcbiAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1zdWNjZXNzKSc7XHJcbiAgICBtZXNzYWdlLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHRXYXJuKSc7XHJcbiAgICBtZXNzYWdlLnN0eWxlLmZvbnRXZWlnaHQgPSAnNTAwJztcclxuICAgIGhlYWRlckljb24uc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dFdhcm4pJztcclxuICAgIGNvbnRhaW5lckFjdGl2ZS5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10ZXh0U2Vjb25kYXJ5KSc7XHJcblxyXG4gICAgdGhpcy50b1dXV1JPT1QoY29udGFpbmVyKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbmZvKG1lc3NhZ2VUeHQ6IHN0cmluZywgb25EZXN0cm95PzogKCkgPT4gdm9pZCwgdGltZXIgPSA2MDAwKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQuY29udGFpbmVyKSkge1xyXG4gICAgICB0aGlzLnRvU3RhY2sobWVzc2FnZVR4dCwgdGltZXIsIG9uRGVzdHJveSwgJ2luZm8nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSB0aGlzLmdlbmVyYXRlQmFzZShtZXNzYWdlVHh0LCAnaW5mbycsIHRpbWVyLCBvbkRlc3Ryb3kpO1xyXG5cclxuICAgIHRoaXMudG9XV1dST09UKGNvbnRhaW5lcik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgd2FybihtZXNzYWdlVHh0OiBzdHJpbmcgPSAnT29wc3NzLi4uJywgb25EZXN0cm95PzogKCkgPT4gdm9pZCwgdGltZXIgPSA2MDAwKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQuY29udGFpbmVyKSkge1xyXG4gICAgICB0aGlzLnRvU3RhY2sobWVzc2FnZVR4dCwgdGltZXIsIG9uRGVzdHJveSwgJ3dhcm4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgY29udGFpbmVyLCBjb250YWluZXJBY3RpdmUsIG1lc3NhZ2UsIGhlYWRlckljb24gfSA9IHRoaXMuZ2VuZXJhdGVCYXNlKFxyXG4gICAgICBtZXNzYWdlVHh0LFxyXG4gICAgICAnd2FybicsXHJcbiAgICAgIHRpbWVyLFxyXG4gICAgICBvbkRlc3Ryb3lcclxuICAgICk7XHJcbiAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS13YXJuKSc7XHJcbiAgICBtZXNzYWdlLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHRXYXJuKSc7XHJcbiAgICBtZXNzYWdlLnN0eWxlLmZvbnRXZWlnaHQgPSAnNTAwJztcclxuICAgIGhlYWRlckljb24uc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dFdhcm4pJztcclxuICAgIGNvbnRhaW5lckFjdGl2ZS5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS10ZXh0U2Vjb25kYXJ5KSc7XHJcblxyXG4gICAgdGhpcy50b1dXV1JPT1QoY29udGFpbmVyKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkYW5nZXIobWVzc2FnZVR4dDogc3RyaW5nID0gJ09vcHNzcy4uLicsIG9uRGVzdHJveT86ICgpID0+IHZvaWQsIHRpbWVyID0gNjAwMCkge1xyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkLmNvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy50b1N0YWNrKG1lc3NhZ2VUeHQsIHRpbWVyLCBvbkRlc3Ryb3ksICdkYW5nZXInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgY29udGFpbmVyLCBjb250YWluZXJBY3RpdmUgfSA9IHRoaXMuZ2VuZXJhdGVCYXNlKFxyXG4gICAgICBtZXNzYWdlVHh0LFxyXG4gICAgICAnZGFuZ2VyJyxcclxuICAgICAgdGltZXIsXHJcbiAgICAgIG9uRGVzdHJveVxyXG4gICAgKTtcclxuICAgIGNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWRhbmdlciknO1xyXG4gICAgY29udGFpbmVyQWN0aXZlLnN0eWxlLmJvcmRlckNvbG9yID0gJ3ZhcigtLXRleHRTZWNvbmRhcnkpJztcclxuXHJcbiAgICB0aGlzLnRvV1dXUk9PVChjb250YWluZXIpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0b1N0YWNrKFxyXG4gICAgbWVzc2FnZTogc3RyaW5nLFxyXG4gICAgdGltZXI6IG51bWJlcixcclxuICAgIG9uRGVzdHJveTogKCkgPT4gdm9pZCxcclxuICAgIHR5cGU6ICdzdWNjZXNzJyB8ICdkYW5nZXInIHwgJ3dhcm4nIHwgJ2luZm8nXHJcbiAgKSB7XHJcbiAgICBUb2FzdGVyVG9vbC5zdGFjay5wdXNoKHsgbWVzc2FnZSwgdGltZXIsIHR5cGUsIG9uRGVzdHJveSB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdG9XV1dST09UKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgIFdXV1JPT1QuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjA1KSc7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gKGNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAnJyksIENTU19ERUZBVUxUX1RSQU5TSVRJT05fVElNRSk7XHJcbiAgICB9LCAxMDApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUJhc2UoXHJcbiAgICBtZXNzYWdlVHh0OiBzdHJpbmcsXHJcbiAgICBpY29uOiAnc3VjY2VzcycgfCAnaW5mbycgfCAnZGFuZ2VyJyB8ICd3YXJuJyxcclxuICAgIHRpbWVyOiBudW1iZXIsXHJcbiAgICBvbkRlc3Ryb3k/OiAoKSA9PiB2b2lkXHJcbiAgKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lckFjdGl2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XHJcbiAgICBjb25zdCBoZWFkZXJQYXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgY29uc3QgaGVhZGVySWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuXHJcbiAgICBjb250YWluZXIuaWQgPSBpZC5jb250YWluZXI7XHJcbiAgICBjb250YWluZXJBY3RpdmUuaWQgPSBpZC5jb250YWluZXJBY3RpdmU7XHJcbiAgICBoZWFkZXIuaWQgPSBpZC5oZWFkZXI7XHJcbiAgICBoZWFkZXJQYXJ0LmlkID0gaWQuaGVhZGVyUGFydDtcclxuICAgIG1lc3NhZ2UuaWQgPSBpZC5tZXNzYWdlO1xyXG4gICAgaGVhZGVySWNvbi5jbGFzc0xpc3QuYWRkKCdiaScsIGhlYWRlckJhc2VJY29uc1tpY29uXSk7XHJcblxyXG4gICAgY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgwKSc7XHJcbiAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IGBhbGwgJHtDU1NfREVGQVVMVF9UUkFOU0lUSU9OX1RJTUUgLSAxMDB9bXMgZWFzZS1pbi1vdXRgO1xyXG5cclxuICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSAhIW1lc3NhZ2VUeHQgPyBtZXNzYWdlVHh0IDogJyc7XHJcblxyXG4gICAgaGVhZGVyUGFydC5hcHBlbmQoaGVhZGVySWNvbiwgbWVzc2FnZSk7XHJcbiAgICBoZWFkZXIuYXBwZW5kKGhlYWRlclBhcnQpO1xyXG5cclxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHJcbiAgICBzdHlsZS5pbm5lckhUTUwgPSBgXHJcbiAgICAgIC5jbGFzcy1hbmltLXRvYXN0ZXItY29udGFpbmVyLWFjdGl2ZSB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBhbmltLXRvYXN0ZXItY29udGFpbmVyLWFjdGl2ZSAke3RpbWVyfW1zIGVhc2Utb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBAa2V5ZnJhbWVzIGFuaW0tdG9hc3Rlci1jb250YWluZXItYWN0aXZlIHtcclxuICAgICAgICB0byB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgYDtcclxuICAgIGNvbnRhaW5lckFjdGl2ZS5jbGFzc0xpc3QuYWRkKCdjbGFzcy1hbmltLXRvYXN0ZXItY29udGFpbmVyLWFjdGl2ZScpO1xyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZChjb250YWluZXJBY3RpdmUsIGhlYWRlcik7XHJcblxyXG4gICAgY29uc3QgZG9jID0gdGhpcztcclxuXHJcbiAgICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgICBzdHlsZS5yZW1vdmUoKTtcclxuICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgwKSc7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAob25EZXN0cm95ICYmIHR5cGVvZiBvbkRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIG9uRGVzdHJveSgpO1xyXG4gICAgICAgIGlmIChUb2FzdGVyVG9vbC5zdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCB7IHR5cGUsIC4uLm5leHQgfSA9IFRvYXN0ZXJUb29sLnN0YWNrLnNoaWZ0KCk7XHJcbiAgICAgICAgICBkb2NbdHlwZV0obmV4dC5tZXNzYWdlLCBuZXh0Lm9uRGVzdHJveSwgbmV4dC50aW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBDU1NfREVGQVVMVF9UUkFOU0lUSU9OX1RJTUUgLSAxNTApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBkZXN0cm95KCksIHRpbWVyKTtcclxuICAgIGNvbnN0IHRpbWVvdXRUb0FjdGl2ZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb250YWluZXJBY3RpdmUucmVtb3ZlKCk7XHJcbiAgICB9LCB0aW1lciAtIDEwMCk7XHJcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUb0FjdGl2ZSk7XHJcbiAgICAgIGRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7IGNvbnRhaW5lciwgY29udGFpbmVyQWN0aXZlLCBoZWFkZXIsIGhlYWRlckljb24sIG1lc3NhZ2UsIGRlc3Ryb3kgfTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVzZXJFbnRpdHlWYWxpZGF0aW9uIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGVtYWlsUmVnZXggPSAvXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Mix9JC87XHJcblxyXG4gIHB1YmxpYyBlbWFpbElzVmFsaWQoZW1haWw6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIGVtYWlsICYmIHRoaXMuZW1haWxSZWdleC50ZXN0KGVtYWlsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXNzd29yZElzVmFsaWQocGFzc3dvcmQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHBhc3N3b3JkICYmIHBhc3N3b3JkLmxlbmd0aCA+PSA4O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5hbWVJc1ZhbGlkKG5hbWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIG5hbWUgJiYgbmFtZS5sZW5ndGggPj0gMjtcclxuICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VyTmFtZSIsIm5hbWUiLCJyZXN0IiwicGF0Y2giLCJyZXMiLCJqc29uIiwic3RhdHVzIiwiZW1haWwiLCJwYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiVXBkYXRlVXNlciIsInRpbWUiLCJDU1NfQ0xBU1NfSU5QVVRfREFOR0VSIiwiQ1NTX0NMQVNTX1NIQUtFX0FOSU0iLCJDU1NfREVGQVVMVF9UUkFOU0lUSU9OX1RJTUUiLCJXV1dST09UIiwiZGF0YXNldCIsImRlZmF1bHRUcmFuc2l0aW9uIiwiaXNOYU4iLCJOdW1iZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiU1lTVEVNX1NUT1JBR0VfS0VZX1RPS0VOIiwiYW5pbSIsIkFuaW1Ub29sIiwidmFsaWRhdGlvbiIsIlVzZXJFbnRpdHlWYWxpZGF0aW9uIiwicHJvZ3Jlc3MiLCJQcm9ncmVzc0luZGljYXRvclRvb2wiLCJhcGkiLCJSZXN0QXBpVG9vbCIsInRvYXN0ZXIiLCJUb2FzdGVyVG9vbCIsImF2YXRhciIsInRvb2wiLCJJbWFnZVRvb2wiLCJIVE1MSW1hZ2UiLCJpbnB1dCIsImNob29zZUJ1dHRvbiIsImJsb2IiLCJwc2V1ZG9JbnB1dCIsImZvcm1Db250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybUNvbnRhaW5lckRhdGEiLCJmb3JtIiwiaW5wdXRDb25maXJtIiwiaW5wdXRDdXJyZW50UGFzc3dvcmQiLCJoaWRkZW5QYXNzd29yZCIsInNob3dQYXNzd29yZCIsInNpZ25PdXRCdXR0b24iLCJwc2V1ZG9JbnB1dE5hbWUiLCJmb3JtQ29udGFpbmVyTmFtZSIsImZvcm1OYW1lIiwiaW5wdXROYW1lIiwidXBkYXRlTmFtZU9uIiwidGhpcyIsInBzZXVkb0lucHV0U3BhbiIsIm9yaWdpbmFsVmFsdWUiLCJvcmlnaW5hbCIsInVwZGF0ZU9uIiwicHVzaCIsInBzZXVkb0lucHV0RW1haWwiLCJmb3JtQ29udGFpbmVyRW1haWwiLCJmb3JtRW1haWwiLCJpbnB1dEVtYWlsIiwicGFzc3dvcmRJbnB1dEZvckVtYWlsIiwicGFzc3dvcmRJbnB1dCIsInJ1biIsInByb2Nlc3NGb3JtQ29udGFpbmVyRGF0YXNldCIsInNldExpc3RlbmVycyIsInByb2Nlc3NCb2R5U2l6ZSIsInByb2Nlc3NQYXNzd29yZCIsImdlbmVyYXRlIiwib3JpZ2luYWxQb3MiLCJzcGxpdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGljayIsImF2YXRhclByb2Nlc3NpbmciLCJhY3RpdmVVc2VySW5wdXRDb25maWd1cmF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidXBkYXRlTmFtZSIsIm5hbWVJc1ZhbGlkIiwidmFsdWUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJkaXNhYmxlVXNlcklucHV0Q29uZmlndXJhdGlvbiIsInVwZGF0ZUVtYWlsIiwiZW1haWxJc1ZhbGlkIiwicGFzc3dvcmRJc1ZhbGlkIiwic2lnbk91dCIsInR5cGUiLCJhY3RpdmVVc2VySW5wdXRQYXNzd29yZENvbmZpZ3VyYXRpb24iLCJhdHRyIiwicG9zIiwic3R5bGUiLCJ1cGRhdGVQYXNzd29yZCIsImNvbmZpZ3VyYXRpb24iLCJib3JkZXJDb2xvciIsImNvbG9yIiwic2V0VGltZW91dCIsImZpbGVzIiwiaW1hZ2VUb0Jsb2IiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJoZWFkZXJIIiwiY2xpZW50SGVpZ2h0IiwibWluSGVpZ2h0Iiwid2FybiIsInNoYWtlIiwidGhlbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNhdGNoIiwiZGFuZ2VyIiwibG9nIiwidG9rZW4iLCJ1cGRhdGVUb2tlbiIsImFnYWluIiwic2hvdyIsImlzT0siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImhpZGRlbiIsIkxvZ2dlZFVzZXJQYWdlTW9kdWxlIiwiSFRNTF9TRVNTSU9OX1RZUEUiLCJzaWduSW4iLCJzaWduVXAiLCJwcm9ncmVzc0luZGljYXRvciIsImJ1dHRvblNob3dTZXNzaW9uRm9ybSIsImJ1dHRvbkhpZGRlblNlc3Npb25Gb3JtIiwic2hvd1Nlc3Npb25Gb3JtRnJvbUJvZHkiLCJob21lTGluayIsInNlc3Npb25Gb3JtQ29udGFpbmVyIiwic2Vzc2lvbkZvcm0iLCJzZXNzaW9uRW1haWxJbnB1dCIsInNlc3Npb25QYXNzd29yZElucHV0IiwiYnV0dG9uU2Vzc2lvblNpZ25VcCIsImJ1dHRvblNlc3Npb25TaWduSW4iLCJzaG93U2Vzc2lvbkZvcm0iLCJsZWZ0IiwiaGlkZGVuU2Vzc2lvbkZvcm0iLCJoaXN0b3J5IiwiYmFjayIsInNlc3Npb25UeXBlIiwic2Vzc2lvblN1Ym1pdCIsInNlc3Npb25TaWduSW4iLCJzZXNzaW9uU2lnblVwIiwid2ViUmVzcG9uc2UiLCJwb3N0IiwicmVzcG9uc2UiLCJ1c2VyIiwiU2Vzc2lvbk1vZHVsZSIsImVsIiwiZm9jdXMiLCJjb250YWlucyIsImZpbGUiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiSW1hZ2UiLCJvbmxvYWQiLCJ3IiwiaCIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwicmVzaXplSGVpZ2h0IiwicmVzaXplV2lkdGgiLCJuSW1hZ2UiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJiIiwicmV2b2tlT2JqZWN0VVJMIiwiY3Jvc3NPcmlnaW4iLCJpbWFnZVRvQmxvYldoaXRob3V0UmVzaXplIiwiaW1nIiwiY29udGV4dCIsImltYWdlIiwidG9EYXRhVVJMIiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwiYmFja2dyb3VuZCIsImluZGljYXRvciIsImluZGljYXRvcjIiLCJwcm9ncmVzc0luZGljYXRvcjIiLCJhcHBlbmQiLCJhcHBlbmRDaGlsZCIsImdlbmVyYXRlQW5kU2hvdyIsImRlc3Ryb3lJbnN0YW5jZSIsImJhc2UiLCJwYXRoIiwiYm9keSIsInJlcXVlc3RIZWFkZXJzIiwicmVjb3ZlcnlUb2tlbiIsImhlYWRlcnMiLCJIZWFkZXJzIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsInNldCIsImZldGNoIiwiY29uY2F0IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsInB1dCIsImRlbGV0ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiaWQiLCJoZWFkZXJCYXNlSWNvbnMiLCJpbmZvIiwibWVzc2FnZVR4dCIsIm9uRGVzdHJveSIsInRpbWVyIiwidG9TdGFjayIsImdlbmVyYXRlQmFzZSIsImNvbnRhaW5lckFjdGl2ZSIsImhlYWRlckljb24iLCJmb250V2VpZ2h0IiwidG9XV1dST09UIiwic3RhY2siLCJ0cmFuc2Zvcm0iLCJpY29uIiwiaGVhZGVyIiwiaGVhZGVyUGFydCIsInRyYW5zaXRpb24iLCJpbm5lckhUTUwiLCJoZWFkIiwiZG9jIiwiZGVzdHJveSIsImxlbmd0aCIsInNoaWZ0IiwibmV4dCIsInRpbWVvdXQiLCJ0aW1lb3V0VG9BY3RpdmUiLCJjbGVhclRpbWVvdXQiLCJlbWFpbFJlZ2V4IiwidGVzdCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsInBhZ2UiLCJidWlsZCIsIk1haW4iXSwic291cmNlUm9vdCI6IiJ9